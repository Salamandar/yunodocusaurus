<!doctype html>
<html lang="de" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-contribute/packaging_apps/resources/packaging_apps_helpers" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">App helpers | Yunohost</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://yunohost.org/yunodocusaurus/de/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://yunohost.org/yunodocusaurus/de/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://yunohost.org/yunodocusaurus/de/docs/contribute/packaging_apps/resources/packaging_apps_helpers/"><meta data-rh="true" name="docusaurus_locale" content="de"><meta data-rh="true" name="docsearch:language" content="de"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="App helpers | Yunohost"><meta data-rh="true" name="description" content="Doc auto-generated by this script on 22/07/2023 (YunoHost version 11.2.3)"><meta data-rh="true" property="og:description" content="Doc auto-generated by this script on 22/07/2023 (YunoHost version 11.2.3)"><link data-rh="true" rel="icon" href="/yunodocusaurus/de/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://yunohost.org/yunodocusaurus/de/docs/contribute/packaging_apps/resources/packaging_apps_helpers/"><link data-rh="true" rel="alternate" href="https://yunohost.org/yunodocusaurus/ar/docs/contribute/packaging_apps/resources/packaging_apps_helpers/" hreflang="ar"><link data-rh="true" rel="alternate" href="https://yunohost.org/yunodocusaurus/ca/docs/contribute/packaging_apps/resources/packaging_apps_helpers/" hreflang="ca"><link data-rh="true" rel="alternate" href="https://yunohost.org/yunodocusaurus/de/docs/contribute/packaging_apps/resources/packaging_apps_helpers/" hreflang="de"><link data-rh="true" rel="alternate" href="https://yunohost.org/yunodocusaurus/docs/contribute/packaging_apps/resources/packaging_apps_helpers/" hreflang="en"><link data-rh="true" rel="alternate" href="https://yunohost.org/yunodocusaurus/es/docs/contribute/packaging_apps/resources/packaging_apps_helpers/" hreflang="es"><link data-rh="true" rel="alternate" href="https://yunohost.org/yunodocusaurus/fr/docs/contribute/packaging_apps/resources/packaging_apps_helpers/" hreflang="fr"><link data-rh="true" rel="alternate" href="https://yunohost.org/yunodocusaurus/it/docs/contribute/packaging_apps/resources/packaging_apps_helpers/" hreflang="it"><link data-rh="true" rel="alternate" href="https://yunohost.org/yunodocusaurus/oc/docs/contribute/packaging_apps/resources/packaging_apps_helpers/" hreflang="oc"><link data-rh="true" rel="alternate" href="https://yunohost.org/yunodocusaurus/ru/docs/contribute/packaging_apps/resources/packaging_apps_helpers/" hreflang="ru"><link data-rh="true" rel="alternate" href="https://yunohost.org/yunodocusaurus/docs/contribute/packaging_apps/resources/packaging_apps_helpers/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/yunodocusaurus/de/blog/rss.xml" title="Yunohost RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/yunodocusaurus/de/blog/atom.xml" title="Yunohost Atom Feed"><link rel="stylesheet" href="/yunodocusaurus/de/assets/css/styles.9d9ee2d6.css">
<link rel="preload" href="/yunodocusaurus/de/assets/js/runtime~main.336acd9e.js" as="script">
<link rel="preload" href="/yunodocusaurus/de/assets/js/main.97974e4f.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Zum Hauptinhalt springen"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Zum Hauptinhalt springen</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/yunodocusaurus/de/"><div class="navbar__logo"><img src="/yunodocusaurus/de/img/YunoHost_logo_vertical.png" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/yunodocusaurus/de/img/YunoHost_logo_vertical.png" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Yunohost documentation</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/yunodocusaurus/de/docs/">Tutorial</a><a class="navbar__item navbar__link" href="/yunodocusaurus/de/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Deutsch</a><ul class="dropdown__menu"><li><a href="/yunodocusaurus/ar/docs/contribute/packaging_apps/resources/packaging_apps_helpers/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ar">العربية</a></li><li><a href="/yunodocusaurus/ca/docs/contribute/packaging_apps/resources/packaging_apps_helpers/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ca">Català</a></li><li><a href="/yunodocusaurus/de/docs/contribute/packaging_apps/resources/packaging_apps_helpers/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="de">Deutsch</a></li><li><a href="/yunodocusaurus/docs/contribute/packaging_apps/resources/packaging_apps_helpers/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/yunodocusaurus/es/docs/contribute/packaging_apps/resources/packaging_apps_helpers/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/yunodocusaurus/fr/docs/contribute/packaging_apps/resources/packaging_apps_helpers/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/yunodocusaurus/it/docs/contribute/packaging_apps/resources/packaging_apps_helpers/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="it">Italiano</a></li><li><a href="/yunodocusaurus/oc/docs/contribute/packaging_apps/resources/packaging_apps_helpers/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="oc">Occitan</a></li><li><a href="/yunodocusaurus/ru/docs/contribute/packaging_apps/resources/packaging_apps_helpers/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ru">Русский</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Umschalten zwischen dunkler und heller Ansicht (momentan heller Modus)" aria-label="Umschalten zwischen dunkler und heller Ansicht (momentan heller Modus)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Zurück nach oben scrollen" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/yunodocusaurus/de/docs/">Welcome!</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/yunodocusaurus/de/docs/overview/">Overview</a><button aria-label="Umschalten der Seitenleiste mit einklappbarer Kategorie &#x27;Overview&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/yunodocusaurus/de/docs/administer/">Administration guide</a><button aria-label="Umschalten der Seitenleiste mit einklappbarer Kategorie &#x27;Administration guide&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/yunodocusaurus/de/docs/user_guide/">User guide</a><button aria-label="Umschalten der Seitenleiste mit einklappbarer Kategorie &#x27;User guide&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/yunodocusaurus/de/docs/applications/docs/app_20euros/">applications</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/yunodocusaurus/de/docs/community/">Community</a><button aria-label="Umschalten der Seitenleiste mit einklappbarer Kategorie &#x27;Community&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/yunodocusaurus/de/docs/contribute/write_documentation/">contribute</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/yunodocusaurus/de/docs/contribute/write_documentation/">Write documentation</a><button aria-label="Umschalten der Seitenleiste mit einklappbarer Kategorie &#x27;Write documentation&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/yunodocusaurus/de/docs/contribute/packaging_apps/">Introduction to packaging</a><button aria-label="Umschalten der Seitenleiste mit einklappbarer Kategorie &#x27;Introduction to packaging&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/yunodocusaurus/de/docs/contribute/packaging_apps/manifest/">Writing the app manifest</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/yunodocusaurus/de/docs/contribute/packaging_apps/scripts/">Writing app scripts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/yunodocusaurus/de/docs/contribute/packaging_apps/doc/">Adding documentation to your app</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/yunodocusaurus/de/docs/contribute/packaging_apps/testing/">Testing your app</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/yunodocusaurus/de/docs/contribute/packaging_apps/publishing/">Publishing your app on the catalog</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/yunodocusaurus/de/docs/contribute/packaging_apps/advanced/config_panels/">advanced</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/yunodocusaurus/de/docs/contribute/packaging_apps/resources/packaging_apps_git/">resources</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/yunodocusaurus/de/docs/contribute/packaging_apps/resources/packaging_apps_git/">Use Git to package apps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/yunodocusaurus/de/docs/contribute/packaging_apps/resources/packaging_apps_virtualbox/">Create a development environment with VirtualBox</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/yunodocusaurus/de/docs/contribute/packaging_apps/resources/packaging_apps_helpers/">App helpers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/yunodocusaurus/de/docs/contribute/packaging_apps/resources/packaging_apps_resources/">App resources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/yunodocusaurus/de/docs/contribute/packaging_apps/resources/shell_variables_scope/">General scope of variables</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/yunodocusaurus/de/docs/contribute/dev/">Contributing to the YunoHost core</a><button aria-label="Umschalten der Seitenleiste mit einklappbarer Kategorie &#x27;Contributing to the YunoHost core&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/yunodocusaurus/de/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">contribute</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/yunodocusaurus/de/docs/contribute/packaging_apps/"><span itemprop="name">Introduction to packaging</span></a><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">resources</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">App helpers</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Auf dieser Seite</button></div><div class="theme-doc-markdown markdown"><header><h1>App helpers</h1></header><p>Doc auto-generated by <a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/doc/generate_helper_doc.py" target="_blank" rel="noopener noreferrer">this script</a> on 22/07/2023 (YunoHost version 11.2.3)</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apps">APPS<a href="#apps" class="hash-link" aria-label="Direkter Link zur APPS" title="Direkter Link zur APPS">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_install_apps">ynh_install_apps<a href="#ynh_install_apps" class="hash-link" aria-label="Direkter Link zur ynh_install_apps" title="Direkter Link zur ynh_install_apps">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Install others YunoHost apps</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_install_apps --apps=&quot;appfoo?domain=domain.foo&amp;path=/foo appbar?domain=domain.bar&amp;path=/bar&amp;admin=USER&amp;language=fr&amp;is_public=1&amp;pass?word=pass&amp;port=666&quot;</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-a</code>, <code>--apps=</code>: apps to install</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version <em>.</em>.* or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/apps#L9" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_remove_apps">ynh_remove_apps<a href="#ynh_remove_apps" class="hash-link" aria-label="Direkter Link zur ynh_remove_apps" title="Direkter Link zur ynh_remove_apps">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove other YunoHost apps</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_remove_apps</code></p><p><strong>Details</strong>:<br>
Other YunoHost apps will be removed only if no other apps need them.</p><p>Requires YunoHost version <em>.</em>.* or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/apps#L65" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_spawn_app_shell">ynh_spawn_app_shell<a href="#ynh_spawn_app_shell" class="hash-link" aria-label="Direkter Link zur ynh_spawn_app_shell" title="Direkter Link zur ynh_spawn_app_shell">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Spawn a Bash shell with the app environment loaded</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_spawn_app_shell --app=&quot;app&quot;
    | arg: -a, --app=     - the app ID</code></p><p><strong>Examples</strong>:</p><ul><li><code>  ynh_spawn_app_shell --app=&quot;APP&quot; &lt;&lt;&lt; &#x27;echo &quot;$USER&quot;&#x27;</code></li><li><code>  ynh_spawn_app_shell --app=&quot;APP&quot; &lt; /tmp/some_script.bash</code></li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 11.0.* or higher, and that the app relies on packaging v2 or higher.
The spawned shell will have environment variables loaded and environment files sourced
from the app&#x27;s service configuration file (defaults to $app.service, overridable by the packager with <code>service</code> setting).
If the app relies on a specific PHP version, then <code>php</code> will be aliased that version. The PHP command will also be appended with the <code>phpflags</code> settings.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/apps#L128" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apt">APT<a href="#apt" class="hash-link" aria-label="Direkter Link zur APT" title="Direkter Link zur APT">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_package_is_installed">ynh_package_is_installed<a href="#ynh_package_is_installed" class="hash-link" aria-label="Direkter Link zur ynh_package_is_installed" title="Direkter Link zur ynh_package_is_installed">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Check either a package is installed or not</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_package_is_installed --package=name</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-p</code>, <code>--package=</code>: the package name to check</li></ul><p><strong>Returns</strong>: 0 if the package is installed, 1 else.</p><p><strong>Example</strong>: <code>ynh_package_is_installed --package=yunohost &amp;&amp; echo &quot;installed&quot;</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 2.2.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/apt#L53" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_package_version">ynh_package_version<a href="#ynh_package_version" class="hash-link" aria-label="Direkter Link zur ynh_package_version" title="Direkter Link zur ynh_package_version">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Get the version of an installed package</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_package_version --package=name</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-p</code>, <code>--package=</code>: the package name to get version</li></ul><p><strong>Returns</strong>: the version or an empty string</p><p><strong>Example</strong>: <code>version=$(ynh_package_version --package=yunohost)</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 2.2.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/apt#L75" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_package_update">ynh_package_update<a href="#ynh_package_update" class="hash-link" aria-label="Direkter Link zur ynh_package_update" title="Direkter Link zur ynh_package_update">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Update package index files</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_package_update</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 2.2.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/apt#L107" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_package_install">ynh_package_install<a href="#ynh_package_install" class="hash-link" aria-label="Direkter Link zur ynh_package_install" title="Direkter Link zur ynh_package_install">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Install package(s)</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_package_install name [name [...]]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>name</code>: the package name to install</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 2.2.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/apt#L117" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_package_remove">ynh_package_remove<a href="#ynh_package_remove" class="hash-link" aria-label="Direkter Link zur ynh_package_remove" title="Direkter Link zur ynh_package_remove">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove package(s)</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_package_remove name [name [...]]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>name</code>: the package name to remove</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 2.2.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/apt#L128" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_package_autoremove">ynh_package_autoremove<a href="#ynh_package_autoremove" class="hash-link" aria-label="Direkter Link zur ynh_package_autoremove" title="Direkter Link zur ynh_package_autoremove">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove package(s) and their uneeded dependencies</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_package_autoremove name [name [...]]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>name</code>: the package name to remove</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 2.2.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/apt#L138" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_package_autopurge">ynh_package_autopurge<a href="#ynh_package_autopurge" class="hash-link" aria-label="Direkter Link zur ynh_package_autopurge" title="Direkter Link zur ynh_package_autopurge">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Purge package(s) and their uneeded dependencies</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_package_autopurge name [name [...]]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>name</code>: the package name to autoremove and purge</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 2.7.2 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/apt#L148" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_install_app_dependencies">ynh_install_app_dependencies<a href="#ynh_install_app_dependencies" class="hash-link" aria-label="Direkter Link zur ynh_install_app_dependencies" title="Direkter Link zur ynh_install_app_dependencies">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Define and install dependencies with a equivs control file</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_install_app_dependencies dep [dep [...]]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>dep</code>: the package name to install in dependence.</li><li><code>&quot;dep1|dep2|…&quot;</code>: You can specify alternatives. It will require to install (dep1 or dep2, etc).</li></ul><p><strong>Details</strong>:<br>
This helper can/should only be called once per app</p><p>example : ynh_install_app_dependencies dep1 dep2 &quot;dep3|dep4|dep5&quot;</p><p>Requires YunoHost version 2.6.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/apt#L225" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_add_app_dependencies">ynh_add_app_dependencies<a href="#ynh_add_app_dependencies" class="hash-link" aria-label="Direkter Link zur ynh_add_app_dependencies" title="Direkter Link zur ynh_add_app_dependencies">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Add dependencies to install with ynh_install_app_dependencies</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_add_app_dependencies --package=phpversion [--replace]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-p</code>, <code>--package=</code>: Packages to add as dependencies for the app.</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 3.8.1 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/apt#L338" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_remove_app_dependencies">ynh_remove_app_dependencies<a href="#ynh_remove_app_dependencies" class="hash-link" aria-label="Direkter Link zur ynh_remove_app_dependencies" title="Direkter Link zur ynh_remove_app_dependencies">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove fake package and its dependencies</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_remove_app_dependencies</code></p><p><strong>Details</strong>:<br>
Dependencies will removed only if no other package need them.</p><p>Requires YunoHost version 2.6.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/apt#L357" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_install_extra_app_dependencies">ynh_install_extra_app_dependencies<a href="#ynh_install_extra_app_dependencies" class="hash-link" aria-label="Direkter Link zur ynh_install_extra_app_dependencies" title="Direkter Link zur ynh_install_extra_app_dependencies">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Install packages from an extra repository properly.</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_install_extra_app_dependencies --repo=&quot;repo&quot; --package=&quot;dep1 dep2&quot; [--key=key_url] [--name=name]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-r</code>, <code>--repo=</code>: Complete url of the extra repository.</li><li><code>-p</code>, <code>--package=</code>: The packages to install from this extra repository</li><li><code>-k</code>, <code>--key=</code>: url to get the public key.</li><li><code>-n</code>, <code>--name=</code>: Name for the files for this repo, $app as default value.</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 3.8.1 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/apt#L391" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="backup">BACKUP<a href="#backup" class="hash-link" aria-label="Direkter Link zur BACKUP" title="Direkter Link zur BACKUP">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_backup">ynh_backup<a href="#ynh_backup" class="hash-link" aria-label="Direkter Link zur ynh_backup" title="Direkter Link zur ynh_backup">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Add a file or a directory to the list of paths to backup</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_backup --src_path=src_path [--dest_path=dest_path] [--is_big] [--not_mandatory]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-s</code>, <code>--src_path=</code>: file or directory to bind or symlink or copy. it shouldn&#x27;t be in the backup dir.</li><li><code>-d</code>, <code>--dest_path=</code>: destination file or directory inside the backup dir</li><li><code>-b</code>, <code>--is_big</code>: Indicate data are big (mail, video, image ...)</li><li><code>-m</code>, <code>--not_mandatory</code>: Indicate that if the file is missing, the backup can ignore it.</li></ul><p><strong>Details</strong>:<br>
This helper can be used both in a system backup hook, and in an app backup script</p><p><code>ynh_backup</code> writes <code>src_path</code> and the relative <code>dest_path</code> into a CSV file, and it
creates the parent destination directory</p><p>If <code>dest_path</code> is ended by a slash it complete this path with the basename of <code>src_path</code>.</p><p>Example in the context of a wordpress app :</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ynh_backup &quot;/etc/nginx/conf.d/$domain.d/$app.conf&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># =&gt; This line will be added into CSV file</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># &quot;/etc/nginx/conf.d/$domain.d/$app.conf&quot;,&quot;apps/wordpress/etc/nginx/conf.d/$domain.d/$app.conf&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ynh_backup &quot;/etc/nginx/conf.d/$domain.d/$app.conf&quot; &quot;conf/nginx.conf&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># =&gt; &quot;/etc/nginx/conf.d/$domain.d/$app.conf&quot;,&quot;apps/wordpress/conf/nginx.conf&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ynh_backup &quot;/etc/nginx/conf.d/$domain.d/$app.conf&quot; &quot;conf/&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># =&gt; &quot;/etc/nginx/conf.d/$domain.d/$app.conf&quot;,&quot;apps/wordpress/conf/$app.conf&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ynh_backup &quot;/etc/nginx/conf.d/$domain.d/$app.conf&quot; &quot;conf&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># =&gt; &quot;/etc/nginx/conf.d/$domain.d/$app.conf&quot;,&quot;apps/wordpress/conf&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#Deprecated usages (maintained for retro-compatibility)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ynh_backup &quot;/etc/nginx/conf.d/$domain.d/$app.conf&quot; &quot;${backup_dir}/conf/nginx.conf&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># =&gt; &quot;/etc/nginx/conf.d/$domain.d/$app.conf&quot;,&quot;apps/wordpress/conf/nginx.conf&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ynh_backup &quot;/etc/nginx/conf.d/$domain.d/$app.conf&quot; &quot;/conf/&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># =&gt; &quot;/etc/nginx/conf.d/$domain.d/$app.conf&quot;,&quot;apps/wordpress/conf/$app.conf&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>How to use <code>--is_big</code>:</p><p><code>--is_big</code> is used to specify that this part of the backup can be quite huge.
So, you don&#x27;t want that your package does backup that part during ynh_backup_before_upgrade.
In the same way, an user may doesn&#x27;t want to backup this big part of the app for
each of his backup. And so handle that part differently.</p><p>As this part of your backup may not be done, your restore script has to handle it.
In your restore script, use <code>--not_mandatory</code> with <code>ynh_restore_file</code>
As well in your remove script, you should not remove those data ! Or an user may end up with
a failed upgrade restoring an app without data anymore !</p><p>To have the benefit of <code>--is_big</code> while doing a backup, you can whether set the environement
variable <code>BACKUP_CORE_ONLY</code> to 1 (<code>BACKUP_CORE_ONLY=1</code>) before the backup command. It will affect
only that backup command.
Or set the config <code>do_not_backup_data</code> to 1 into the <code>settings.yml</code> of the app. This will affect
all backups for this app until the setting is removed.</p><p>Requires YunoHost version 2.4.0 or higher.
Requires YunoHost version 3.5.0 or higher for the argument <code>--not_mandatory</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/backup#L64" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_restore">ynh_restore<a href="#ynh_restore" class="hash-link" aria-label="Direkter Link zur ynh_restore" title="Direkter Link zur ynh_restore">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Restore all files that were previously backuped in a core backup script or app backup script</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_restore</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 2.6.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/backup#L179" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_restore_file">ynh_restore_file<a href="#ynh_restore_file" class="hash-link" aria-label="Direkter Link zur ynh_restore_file" title="Direkter Link zur ynh_restore_file">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Restore a file or a directory</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_restore_file --origin_path=origin_path [--dest_path=dest_path] [--not_mandatory]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-o</code>, <code>--origin_path=</code>: Path where was located the file or the directory before to be backuped or relative path to $YNH_CWD where it is located in the backup archive</li><li><code>-d</code>, <code>--dest_path=</code>: Path where restore the file or the dir. If unspecified, the destination will be <code>ORIGIN_PATH</code> or if the <code>ORIGIN_PATH</code> doesn&#x27;t exist in the archive, the destination will be searched into <code>backup.csv</code></li><li><code>-m</code>, <code>--not_mandatory</code>: Indicate that if the file is missing, the restore process can ignore it.</li></ul><p><strong>Examples</strong>:</p><ul><li><code>    ynh_restore_file -o &quot;/etc/nginx/conf.d/$domain.d/$app.conf&quot;</code></li><li><code>You can also use relative paths:</code></li><li><code>    ynh_restore_file -o &quot;conf/nginx.conf&quot;</code></li></ul><p><strong>Details</strong>:<br>
Use the registered path in backup_list by ynh_backup to restore the file at the right place.</p><p>If <code>DEST_PATH</code> already exists and is lighter than 500 Mo, a backup will be made in
<code>/var/cache/yunohost/appconfbackup/</code>. Otherwise, the existing file is removed.</p><p>if <code>apps/$app/etc/nginx/conf.d/$domain.d/$app.conf</code> exists, restore it into
<code>/etc/nginx/conf.d/$domain.d/$app.conf</code>
if no, search for a match in the csv (eg: conf/nginx.conf) and restore it into
<code>/etc/nginx/conf.d/$domain.d/$app.conf</code></p><p>Requires YunoHost version 2.6.4 or higher.
Requires YunoHost version 3.5.0 or higher for the argument --not_mandatory</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/backup#L238" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_store_file_checksum">ynh_store_file_checksum<a href="#ynh_store_file_checksum" class="hash-link" aria-label="Direkter Link zur ynh_store_file_checksum" title="Direkter Link zur ynh_store_file_checksum">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Calculate and store a file checksum into the app settings</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_store_file_checksum --file=file</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-f</code>, <code>--file=</code>: The file on which the checksum will performed, then stored.</li></ul><p><strong>Details</strong>:<br>
$app should be defined when calling this helper</p><p>Requires YunoHost version 2.6.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/backup#L306" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_backup_if_checksum_is_different">ynh_backup_if_checksum_is_different<a href="#ynh_backup_if_checksum_is_different" class="hash-link" aria-label="Direkter Link zur ynh_backup_if_checksum_is_different" title="Direkter Link zur ynh_backup_if_checksum_is_different">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Verify the checksum and backup the file if it&#x27;s different</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_backup_if_checksum_is_different --file=file</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-f</code>, <code>--file=</code>: The file on which the checksum test will be perfomed.</li></ul><p><strong>Returns</strong>: the name of a backup file, or nothing</p><p><strong>Details</strong>:<br>
This helper is primarily meant to allow to easily backup personalised/manually
modified config files.</p><p>Requires YunoHost version 2.6.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/backup#L357" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_delete_file_checksum">ynh_delete_file_checksum<a href="#ynh_delete_file_checksum" class="hash-link" aria-label="Direkter Link zur ynh_delete_file_checksum" title="Direkter Link zur ynh_delete_file_checksum">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Delete a file checksum from the app settings</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_delete_file_checksum --file=file</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-f</code>, <code>--file=</code>: The file for which the checksum will be deleted</li></ul><p><strong>Details</strong>:<br>
$app should be defined when calling this helper</p><p>Requires YunoHost version 3.3.1 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/backup#L397" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_backup_before_upgrade">ynh_backup_before_upgrade<a href="#ynh_backup_before_upgrade" class="hash-link" aria-label="Direkter Link zur ynh_backup_before_upgrade" title="Direkter Link zur ynh_backup_before_upgrade">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Make a backup in case of failed upgrade</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_backup_before_upgrade</code></p><p><strong>Details</strong>:<br>
Usage in a package script:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  ynh_backup_before_upgrade</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ynh_clean_setup () {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ynh_restore_upgradebackup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ynh_abort_if_errors</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Requires YunoHost version 2.7.2 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/backup#L432" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_restore_upgradebackup">ynh_restore_upgradebackup<a href="#ynh_restore_upgradebackup" class="hash-link" aria-label="Direkter Link zur ynh_restore_upgradebackup" title="Direkter Link zur ynh_restore_upgradebackup">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Restore a previous backup if the upgrade process failed</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_restore_upgradebackup</code></p><p><strong>Details</strong>:<br>
Usage in a package script:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  ynh_backup_before_upgrade</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ynh_clean_setup () {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ynh_restore_upgradebackup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ynh_abort_if_errors</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Requires YunoHost version 2.7.2 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/backup#L480" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="config">CONFIG<a href="#config" class="hash-link" aria-label="Direkter Link zur CONFIG" title="Direkter Link zur CONFIG">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="fail2ban">FAIL2BAN<a href="#fail2ban" class="hash-link" aria-label="Direkter Link zur FAIL2BAN" title="Direkter Link zur FAIL2BAN">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_add_fail2ban_config">ynh_add_fail2ban_config<a href="#ynh_add_fail2ban_config" class="hash-link" aria-label="Direkter Link zur ynh_add_fail2ban_config" title="Direkter Link zur ynh_add_fail2ban_config">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Create a dedicated fail2ban config (jail and filter conf files)</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>1: ynh_add_fail2ban_config --logpath=log_file --failregex=filter [--max_retry=max_retry] [--ports=ports]
2: ynh_add_fail2ban_config --use_template</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-l</code>, <code>--logpath=</code>: Log file to be checked by fail2ban</li><li><code>-r</code>, <code>--failregex=</code>: Failregex to be looked for by fail2ban</li><li><code>-m</code>, <code>--max_retry=</code>: Maximum number of retries allowed before banning IP address - default: 3</li><li><code>-p</code>, <code>--ports=</code>: Ports blocked for a banned IP address - default: http,https</li><li><code>-t</code>, <code>--use_template</code>: Use this helper in template mode</li></ul><p><strong>Details</strong>:<br></p><p>This will use a template in <code>../conf/f2b_jail.conf</code> and <code>../conf/f2b_filter.conf</code>
See the documentation of <code>ynh_add_config</code> for a description of the template
format and how placeholders are replaced with actual variables.</p><p>Generally your template will look like that by example (for synapse):</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">f2b_jail.conf:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [__APP__]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    enabled = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    port = http,https</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    filter = __APP__</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    logpath = /var/log/__APP__/logfile.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    maxretry = 3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">f2b_filter.conf:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [INCLUDES]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    before = common.conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Definition]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Part of regex definition (just used to make more easy to make the global regex)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    __synapse_start_line = .? \- synapse\..+ \-</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Regex definition.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   failregex = ^%(__synapse_start_line)s INFO \- POST\-(\d+)\- &lt;HOST&gt; \- \d+ \- Received request\: POST /_matrix/client/r0/login\??&lt;SKIPLINES&gt;%(__synapse_start_line)s INFO \- POST\-\1\- Got login request with identifier: \{u&#x27;type&#x27;: u&#x27;m.id.user&#x27;, u&#x27;user&#x27;\: u&#x27;(.+?)&#x27;\}, medium\: None, address: None, user\: u&#x27;\5&#x27;&lt;SKIPLINES&gt;%(__synapse_start_line)s WARNING \- \- (Attempted to login as @\5\:.+ but they do not exist|Failed password login for user @\5\:.+)$</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ignoreregex =</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><hr><p>Note about the &quot;failregex&quot; option:</p><p>regex to match the password failure messages in the logfile. The host must be
matched by a group named &quot;<code>host</code>&quot;. The tag &quot;<code>&lt;HOST&gt;</code>&quot; can be used for standard
IP/hostname matching and is only an alias for <code>(?:::f{4,6}:)?(?P&lt;host&gt;[\w\-.^_]+)</code></p><p>You can find some more explainations about how to make a regex here :
<a href="https://www.fail2ban.org/wiki/index.php/MANUAL_0_8#Filters" target="_blank" rel="noopener noreferrer">https://www.fail2ban.org/wiki/index.php/MANUAL_0_8#Filters</a></p><p>Note that the logfile need to exist before to call this helper !!</p><p>To validate your regex you can test with this command:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">fail2ban-regex /var/log/YOUR_LOG_FILE_PATH /etc/fail2ban/filter.d/YOUR_APP.conf</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Requires YunoHost version 4.1.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/fail2ban#L64" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_remove_fail2ban_config">ynh_remove_fail2ban_config<a href="#ynh_remove_fail2ban_config" class="hash-link" aria-label="Direkter Link zur ynh_remove_fail2ban_config" title="Direkter Link zur ynh_remove_fail2ban_config">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove the dedicated fail2ban config (jail and filter conf files)</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_remove_fail2ban_config</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 3.5.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/fail2ban#L119" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getopts">GETOPTS<a href="#getopts" class="hash-link" aria-label="Direkter Link zur GETOPTS" title="Direkter Link zur GETOPTS">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hardware">HARDWARE<a href="#hardware" class="hash-link" aria-label="Direkter Link zur HARDWARE" title="Direkter Link zur HARDWARE">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_get_ram">ynh_get_ram<a href="#ynh_get_ram" class="hash-link" aria-label="Direkter Link zur ynh_get_ram" title="Direkter Link zur ynh_get_ram">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Get the total or free amount of RAM+swap on the system</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_get_ram [--free|--total] [--ignore_swap|--only_swap]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-f</code>, <code>--free</code>: Count free RAM+swap</li><li><code>-t</code>, <code>--total</code>: Count total RAM+swap</li><li><code>-s</code>, <code>--ignore_swap</code>: Ignore swap, consider only real RAM</li><li><code>-o</code>, <code>--only_swap</code>: Ignore real RAM, consider only swap</li></ul><p><strong>Returns</strong>: the amount of free ram, in MB (MegaBytes)</p><p><strong>Details</strong>:<br>
Requires YunoHost version 3.8.1 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/hardware#L13" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_require_ram">ynh_require_ram<a href="#ynh_require_ram" class="hash-link" aria-label="Direkter Link zur ynh_require_ram" title="Direkter Link zur ynh_require_ram">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Return 0 or 1 depending if the system has a given amount of RAM+swap free or total</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_require_ram --required=RAM [--free|--total] [--ignore_swap|--only_swap]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-r</code>, <code>--required=</code>: The amount to require, in MB</li><li><code>-f</code>, <code>--free</code>: Count free RAM+swap</li><li><code>-t</code>, <code>--total</code>: Count total RAM+swap</li><li><code>-s</code>, <code>--ignore_swap</code>: Ignore swap, consider only real RAM</li><li><code>-o</code>, <code>--only_swap</code>: Ignore real RAM, consider only swap</li></ul><p><strong>Returns</strong>: 1 if the ram is under the requirement, 0 otherwise.</p><p><strong>Details</strong>:<br>
Requires YunoHost version 3.8.1 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/hardware#L75" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="logging">LOGGING<a href="#logging" class="hash-link" aria-label="Direkter Link zur LOGGING" title="Direkter Link zur LOGGING">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_die">ynh_die<a href="#ynh_die" class="hash-link" aria-label="Direkter Link zur ynh_die" title="Direkter Link zur ynh_die">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Print a message to stderr and exit</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_die --message=MSG [--ret_code=RETCODE]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-m</code>, <code>--message=</code>: Message to display</li><li><code>-c</code>, <code>--ret_code=</code>: Exit code to exit with</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 2.4.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/logging#L10" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_print_info">ynh_print_info<a href="#ynh_print_info" class="hash-link" aria-label="Direkter Link zur ynh_print_info" title="Direkter Link zur ynh_print_info">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Display a message in the &#x27;INFO&#x27; logging category</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_print_info --message=&quot;Some message&quot;</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-m</code>, <code>--message=</code>: Message to display</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 3.2.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/logging#L30" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_print_warn">ynh_print_warn<a href="#ynh_print_warn" class="hash-link" aria-label="Direkter Link zur ynh_print_warn" title="Direkter Link zur ynh_print_warn">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Print a warning on stderr</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_print_warn --message=&quot;Text to print&quot;</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-m</code>, <code>--message=</code>: The text to print</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 3.2.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/logging#L56" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_print_err">ynh_print_err<a href="#ynh_print_err" class="hash-link" aria-label="Direkter Link zur ynh_print_err" title="Direkter Link zur ynh_print_err">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Print an error on stderr</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_print_err --message=&quot;Text to print&quot;</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-m</code>, <code>--message=</code>: The text to print</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 3.2.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/logging#L73" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_exec_err">ynh_exec_err<a href="#ynh_exec_err" class="hash-link" aria-label="Direkter Link zur ynh_exec_err" title="Direkter Link zur ynh_exec_err">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Execute a command and print the result as an error</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_exec_err your command and args</code></p><p><strong>Arguments</strong>:</p><ul><li><code>command</code>: command to execute</li></ul><p><strong>Details</strong>:<br>
Note that you should NOT quote the command but only prefix it with ynh_exec_err</p><p>Requires YunoHost version 3.2.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/logging#L92" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_exec_warn">ynh_exec_warn<a href="#ynh_exec_warn" class="hash-link" aria-label="Direkter Link zur ynh_exec_warn" title="Direkter Link zur ynh_exec_warn">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Execute a command and print the result as a warning</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_exec_warn your command and args</code></p><p><strong>Arguments</strong>:</p><ul><li><code>command</code>: command to execute</li></ul><p><strong>Details</strong>:<br>
Note that you should NOT quote the command but only prefix it with ynh_exec_warn</p><p>Requires YunoHost version 3.2.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/logging#L113" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_exec_warn_less">ynh_exec_warn_less<a href="#ynh_exec_warn_less" class="hash-link" aria-label="Direkter Link zur ynh_exec_warn_less" title="Direkter Link zur ynh_exec_warn_less">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Execute a command and force the result to be printed on stdout</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_exec_warn_less your command and args</code></p><p><strong>Arguments</strong>:</p><ul><li><code>command</code>: command to execute</li></ul><p><strong>Details</strong>:<br>
Note that you should NOT quote the command but only prefix it with ynh_exec_warn</p><p>Requires YunoHost version 3.2.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/logging#L134" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_exec_quiet">ynh_exec_quiet<a href="#ynh_exec_quiet" class="hash-link" aria-label="Direkter Link zur ynh_exec_quiet" title="Direkter Link zur ynh_exec_quiet">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Execute a command and redirect stdout in /dev/null</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_exec_quiet your command and args</code></p><p><strong>Arguments</strong>:</p><ul><li><code>command</code>: command to execute</li></ul><p><strong>Details</strong>:<br>
Note that you should NOT quote the command but only prefix it with ynh_exec_warn</p><p>Requires YunoHost version 3.2.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/logging#L155" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_exec_fully_quiet">ynh_exec_fully_quiet<a href="#ynh_exec_fully_quiet" class="hash-link" aria-label="Direkter Link zur ynh_exec_fully_quiet" title="Direkter Link zur ynh_exec_fully_quiet">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Execute a command and redirect stdout and stderr in /dev/null</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_exec_quiet your command and args</code></p><p><strong>Arguments</strong>:</p><ul><li><code>command</code>: command to execute</li></ul><p><strong>Details</strong>:<br>
Note that you should NOT quote the command but only prefix it with ynh_exec_quiet</p><p>Requires YunoHost version 3.2.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/logging#L176" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_script_progression">ynh_script_progression<a href="#ynh_script_progression" class="hash-link" aria-label="Direkter Link zur ynh_script_progression" title="Direkter Link zur ynh_script_progression">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Print a progress bar showing the progression of an app script</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_script_progression --message=message [--weight=weight] [--time]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-m</code>, <code>--message=</code>: The text to print</li><li><code>-w</code>, <code>--weight=</code>: The weight for this progression. This value is 1 by default. Use a bigger value for a longer part of the script.</li><li><code>-t</code>, <code>--time</code>: Print the execution time since the last call to this helper. Especially usefull to define weights. The execution time is given for the duration since the previous call. So the weight should be applied to this previous call.</li><li><code>-l</code>, <code>--last</code>: Use for the last call of the helper, to fill the progression bar.</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 3.5.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/logging#L237" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_return">ynh_return<a href="#ynh_return" class="hash-link" aria-label="Direkter Link zur ynh_return" title="Direkter Link zur ynh_return">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Return data to the YunoHost core for later processing (to be used by special hooks like app config panel and core diagnosis)</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_return somedata</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 3.6.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/logging#L325" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="logrotate">LOGROTATE<a href="#logrotate" class="hash-link" aria-label="Direkter Link zur LOGROTATE" title="Direkter Link zur LOGROTATE">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_use_logrotate">ynh_use_logrotate<a href="#ynh_use_logrotate" class="hash-link" aria-label="Direkter Link zur ynh_use_logrotate" title="Direkter Link zur ynh_use_logrotate">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Use logrotate to manage the logfile</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_use_logrotate [--logfile=/log/file] [--nonappend] [--specific_user=user/group]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-l</code>, <code>--logfile=</code>: absolute path of logfile</li><li><code>-n</code>, <code>--nonappend</code>: (optional) Replace the config file instead of appending this new config.</li><li><code>-u</code>, <code>--specific_user=</code>: run logrotate as the specified user and group. If not specified logrotate is runned as root.</li></ul><p><strong>Details</strong>:<br>
If no <code>--logfile</code> is provided, <code>/var/log/$app</code> will be used as default.
<code>logfile</code> can point to a directory or a file.</p><p>It&#x27;s possible to use this helper multiple times, each config will be added to
the same logrotate config file. Unless you use the option <code>--non-append</code></p><p>Requires YunoHost version 2.6.4 or higher.
Requires YunoHost version 3.2.0 or higher for the argument <code>--specific_user</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/logrotate#L18" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_remove_logrotate">ynh_remove_logrotate<a href="#ynh_remove_logrotate" class="hash-link" aria-label="Direkter Link zur ynh_remove_logrotate" title="Direkter Link zur ynh_remove_logrotate">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove the app&#x27;s logrotate config.</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_remove_logrotate</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 2.6.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/logrotate#L109" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="multimedia">MULTIMEDIA<a href="#multimedia" class="hash-link" aria-label="Direkter Link zur MULTIMEDIA" title="Direkter Link zur MULTIMEDIA">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_multimedia_build_main_dir">ynh_multimedia_build_main_dir<a href="#ynh_multimedia_build_main_dir" class="hash-link" aria-label="Direkter Link zur ynh_multimedia_build_main_dir" title="Direkter Link zur ynh_multimedia_build_main_dir">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Initialize the multimedia directory system</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_multimedia_build_main_dir</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 4.2 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/multimedia#L11" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_multimedia_addfolder">ynh_multimedia_addfolder<a href="#ynh_multimedia_addfolder" class="hash-link" aria-label="Direkter Link zur ynh_multimedia_addfolder" title="Direkter Link zur ynh_multimedia_addfolder">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Add a directory in yunohost.multimedia</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_multimedia_addfolder --source_dir=&quot;source_dir&quot; --dest_dir=&quot;dest_dir&quot;</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-s</code>, <code>--source_dir=</code>: Source directory - The real directory which contains your medias.</li><li><code>-d</code>, <code>--dest_dir=</code>: Destination directory - The name and the place of the symbolic link, relative to &quot;/home/yunohost.multimedia&quot;</li></ul><p><strong>Details</strong>:<br>
This &quot;directory&quot; will be a symbolic link to a existing directory.</p><p>Requires YunoHost version 4.2 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/multimedia#L64" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_multimedia_addaccess">ynh_multimedia_addaccess<a href="#ynh_multimedia_addaccess" class="hash-link" aria-label="Direkter Link zur ynh_multimedia_addaccess" title="Direkter Link zur ynh_multimedia_addaccess">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Allow an user to have an write authorisation in multimedia directories</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_multimedia_addaccess user_name</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-u</code>, <code>--user_name=</code>: The name of the user which gain this access.</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 4.2 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/multimedia#L93" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="mysql">MYSQL<a href="#mysql" class="hash-link" aria-label="Direkter Link zur MYSQL" title="Direkter Link zur MYSQL">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_mysql_connect_as">ynh_mysql_connect_as<a href="#ynh_mysql_connect_as" class="hash-link" aria-label="Direkter Link zur ynh_mysql_connect_as" title="Direkter Link zur ynh_mysql_connect_as">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Open a connection as a user</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_mysql_connect_as --user=user --password=password [--database=database]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-u</code>, <code>--user=</code>: the user name to connect as</li><li><code>-p</code>, <code>--password=</code>: the user password</li><li><code>-d</code>, <code>--database=</code>: the database to connect to</li></ul><p><strong>Examples</strong>:</p><ul><li><code>   ynh_mysql_connect_as --user=&quot;user&quot; --password=&quot;pass&quot; &lt;&lt;&lt; &quot;UPDATE ...;&quot;</code></li><li><code>   ynh_mysql_connect_as --user=&quot;user&quot; --password=&quot;pass&quot; &lt; /path/to/file.sql</code></li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 2.2.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/mysql#L15" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_mysql_execute_as_root">ynh_mysql_execute_as_root<a href="#ynh_mysql_execute_as_root" class="hash-link" aria-label="Direkter Link zur ynh_mysql_execute_as_root" title="Direkter Link zur ynh_mysql_execute_as_root">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Execute a command as root user</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_mysql_execute_as_root --sql=sql [--database=database]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-s</code>, <code>--sql=</code>: the SQL command to execute</li><li><code>-d</code>, <code>--database=</code>: the database to connect to</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 2.2.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/mysql#L36" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_mysql_execute_file_as_root">ynh_mysql_execute_file_as_root<a href="#ynh_mysql_execute_file_as_root" class="hash-link" aria-label="Direkter Link zur ynh_mysql_execute_file_as_root" title="Direkter Link zur ynh_mysql_execute_file_as_root">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Execute a command from a file as root user</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_mysql_execute_file_as_root --file=file [--database=database]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-f</code>, <code>--file=</code>: the file containing SQL commands</li><li><code>-d</code>, <code>--database=</code>: the database to connect to</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 2.2.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/mysql#L60" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_mysql_dump_db">ynh_mysql_dump_db<a href="#ynh_mysql_dump_db" class="hash-link" aria-label="Direkter Link zur ynh_mysql_dump_db" title="Direkter Link zur ynh_mysql_dump_db">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Dump a database</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_mysql_dump_db --database=database</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-d</code>, <code>--database=</code>: the database name to dump</li></ul><p><strong>Returns</strong>: The mysqldump output</p><p><strong>Example</strong>: <code>ynh_mysql_dump_db --database=roundcube &gt; ./dump.sql</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 2.2.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/mysql#L128" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_mysql_user_exists">ynh_mysql_user_exists<a href="#ynh_mysql_user_exists" class="hash-link" aria-label="Direkter Link zur ynh_mysql_user_exists" title="Direkter Link zur ynh_mysql_user_exists">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Check if a mysql user exists</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_mysql_user_exists --user=user</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-u</code>, <code>--user=</code>: the user for which to check existence</li></ul><p><strong>Returns</strong>: 0 if the user exists, 1 otherwise.</p><p><strong>Details</strong>:<br>
Requires YunoHost version 2.2.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/mysql#L160" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_mysql_setup_db">ynh_mysql_setup_db<a href="#ynh_mysql_setup_db" class="hash-link" aria-label="Direkter Link zur ynh_mysql_setup_db" title="Direkter Link zur ynh_mysql_setup_db">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Create a database, an user and its password. Then store the password in the app&#x27;s config</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_mysql_setup_db --db_user=user --db_name=name [--db_pwd=pwd]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-u</code>, <code>--db_user=</code>: Owner of the database</li><li><code>-n</code>, <code>--db_name=</code>: Name of the database</li><li><code>-p</code>, <code>--db_pwd=</code>: Password of the database. If not provided, a password will be generated</li></ul><p><strong>Details</strong>:<br>
After executing this helper, the password of the created database will be available in <code>$db_pwd</code>
It will also be stored as &quot;<code>mysqlpwd</code>&quot; into the app settings.</p><p>Requires YunoHost version 2.6.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/mysql#L198" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_mysql_remove_db">ynh_mysql_remove_db<a href="#ynh_mysql_remove_db" class="hash-link" aria-label="Direkter Link zur ynh_mysql_remove_db" title="Direkter Link zur ynh_mysql_remove_db">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove a database if it exists, and the associated user</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_mysql_remove_db --db_user=user --db_name=name</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-u</code>, <code>--db_user=</code>: Owner of the database</li><li><code>-n</code>, <code>--db_name=</code>: Name of the database</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 2.6.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/mysql#L224" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="network">NETWORK<a href="#network" class="hash-link" aria-label="Direkter Link zur NETWORK" title="Direkter Link zur NETWORK">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_find_port">ynh_find_port<a href="#ynh_find_port" class="hash-link" aria-label="Direkter Link zur ynh_find_port" title="Direkter Link zur ynh_find_port">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Find a free port and return it</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_find_port --port=begin_port</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-p</code>, <code>--port=</code>: port to start to search</li></ul><p><strong>Returns</strong>: the port number</p><p><strong>Example</strong>: <code>port=$(ynh_find_port --port=8080)</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 2.6.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/network#L12" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_port_available">ynh_port_available<a href="#ynh_port_available" class="hash-link" aria-label="Direkter Link zur ynh_port_available" title="Direkter Link zur ynh_port_available">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Test if a port is available</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_find_port --port=XYZ</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-p</code>, <code>--port=</code>: port to check</li></ul><p><strong>Returns</strong>: 0 if the port is available, 1 if it is already used by another process.</p><p><strong>Example</strong>: <code>ynh_port_available --port=1234 || ynh_die --message=&quot;Port 1234 is needs to be available for this app&quot;</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 3.8.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/network#L36" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_validate_ip4">ynh_validate_ip4<a href="#ynh_validate_ip4" class="hash-link" aria-label="Direkter Link zur ynh_validate_ip4" title="Direkter Link zur ynh_validate_ip4">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Validate an IPv4 address</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_validate_ip4 --ip_address=ip_address</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-i</code>, <code>--ip_address=</code>: the ipv4 address to check</li></ul><p><strong>Returns</strong>: 0 for valid ipv4 addresses, 1 otherwise</p><p><strong>Example</strong>: <code>ynh_validate_ip4 111.222.333.444</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 2.2.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/network#L99" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_validate_ip6">ynh_validate_ip6<a href="#ynh_validate_ip6" class="hash-link" aria-label="Direkter Link zur ynh_validate_ip6" title="Direkter Link zur ynh_validate_ip6">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Validate an IPv6 address</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_validate_ip6 --ip_address=ip_address</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-i</code>, <code>--ip_address=</code>: the ipv6 address to check</li></ul><p><strong>Returns</strong>: 0 for valid ipv6 addresses, 1 otherwise</p><p><strong>Example</strong>: <code>ynh_validate_ip6 2000:dead:beef::1</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 2.2.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/network#L119" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nginx">NGINX<a href="#nginx" class="hash-link" aria-label="Direkter Link zur NGINX" title="Direkter Link zur NGINX">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_add_nginx_config">ynh_add_nginx_config<a href="#ynh_add_nginx_config" class="hash-link" aria-label="Direkter Link zur ynh_add_nginx_config" title="Direkter Link zur ynh_add_nginx_config">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Create a dedicated nginx config</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_add_nginx_config</code></p><p><strong>Details</strong>:<br>
This will use a template in <code>../conf/nginx.conf</code>
See the documentation of <code>ynh_add_config</code> for a description of the template
format and how placeholders are replaced with actual variables.</p><p>Additionally, ynh_add_nginx_config will replace:</p><ul><li><code>#sub_path_only</code>      by empty string if <code>path_url</code> is not <code>&#x27;/&#x27;</code></li><li><code>#root_path_only</code>     by empty string if <code>path_url</code>  <em>is</em>  <code>&#x27;/&#x27;</code></li></ul><p>This allows to enable/disable specific behaviors dependenging on the install
location</p><p>Requires YunoHost version 4.1.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/nginx#L19" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_remove_nginx_config">ynh_remove_nginx_config<a href="#ynh_remove_nginx_config" class="hash-link" aria-label="Direkter Link zur ynh_remove_nginx_config" title="Direkter Link zur ynh_remove_nginx_config">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove the dedicated nginx config</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_remove_nginx_config</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 2.7.2 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/nginx#L41" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_change_url_nginx_config">ynh_change_url_nginx_config<a href="#ynh_change_url_nginx_config" class="hash-link" aria-label="Direkter Link zur ynh_change_url_nginx_config" title="Direkter Link zur ynh_change_url_nginx_config">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Move / regen the nginx config in a change url context</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_change_url_nginx_config</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 11.1.9 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/nginx#L52" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nodejs">NODEJS<a href="#nodejs" class="hash-link" aria-label="Direkter Link zur NODEJS" title="Direkter Link zur NODEJS">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_use_nodejs">ynh_use_nodejs<a href="#ynh_use_nodejs" class="hash-link" aria-label="Direkter Link zur ynh_use_nodejs" title="Direkter Link zur ynh_use_nodejs">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Load the version of node for an app, and set variables.</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_use_nodejs</code></p><p><strong>Details</strong>:<br>
<code>ynh_use_nodejs</code> has to be used in any app scripts before using node for the first time.
This helper will provide alias and variables to use in your scripts.</p><p>To use npm or node, use the alias <code>ynh_npm</code> and <code>ynh_node</code>.</p><p>Those alias will use the correct version installed for the app.
For example: use <code>ynh_npm install</code> instead of <code>npm install</code></p><p>With <code>sudo</code> or <code>ynh_exec_as</code>, use instead the fallback variables <code>$ynh_npm</code> and <code>$ynh_node</code>
And propagate $PATH to sudo with $ynh_node_load_PATH
Exemple: <code>ynh_exec_as $app $ynh_node_load_PATH $ynh_npm install</code></p><p>$PATH contains the path of the requested version of node.
However, $PATH is duplicated into $node_PATH to outlast any manipulation of <code>$PATH</code>
You can use the variable <code>$ynh_node_load_PATH</code> to quickly load your node version
in $PATH for an usage into a separate script.
Exemple: $ynh_node_load_PATH $final_path/script_that_use_npm.sh`</p><p>Finally, to start a nodejs service with the correct version, 2 solutions
Either the app is dependent of node or npm, but does not called it directly.
In such situation, you need to load PATH :</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Environment=&quot;__NODE_ENV_PATH__&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ExecStart=__FINALPATH__/my_app</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You will replace <strong>NODE_ENV_PATH</strong> with $ynh_node_load_PATH.</p><p>Or node start the app directly, then you don&#x27;t need to load the PATH variable</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ExecStart=__YNH_NODE__ my_app run</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You will replace <strong>YNH_NODE</strong> with $ynh_node</p><p>2 other variables are also available</p><ul><li>$nodejs_path: The absolute path to node binaries for the chosen version.</li><li>$nodejs_version: Just the version number of node for this app. Stored as &#x27;nodejs_version&#x27; in settings.yml.</li></ul><p>Requires YunoHost version 2.7.12 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/nodejs#L52" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_install_nodejs">ynh_install_nodejs<a href="#ynh_install_nodejs" class="hash-link" aria-label="Direkter Link zur ynh_install_nodejs" title="Direkter Link zur ynh_install_nodejs">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Install a specific version of nodejs</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_install_nodejs --nodejs_version=nodejs_version</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-n</code>, <code>--nodejs_version=</code>: Version of node to install. When possible, your should prefer to use major version number (e.g. 8 instead of 8.10.0). The crontab will then handle the update of minor versions when needed.</li></ul><p><strong>Details</strong>:<br>
ynh_install_nodejs will install the version of node provided as argument by using n.</p><p><code>n</code> (Node version management) uses the <code>PATH</code> variable to store the path of the version of node it is going to use.
That&#x27;s how it changes the version</p><p>Refer to <code>ynh_use_nodejs</code> for more information about available commands and variables</p><p>Requires YunoHost version 2.7.12 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/nodejs#L92" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_remove_nodejs">ynh_remove_nodejs<a href="#ynh_remove_nodejs" class="hash-link" aria-label="Direkter Link zur ynh_remove_nodejs" title="Direkter Link zur ynh_remove_nodejs">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove the version of node used by the app.</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_remove_nodejs</code></p><p><strong>Details</strong>:<br>
This helper will check if another app uses the same version of node.</p><ul><li>If not, this version of node will be removed.</li><li>If no other app uses node, n will be also removed.</li></ul><p>Requires YunoHost version 2.7.12 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/nodejs#L165" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="permission">PERMISSION<a href="#permission" class="hash-link" aria-label="Direkter Link zur PERMISSION" title="Direkter Link zur PERMISSION">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_permission_create">ynh_permission_create<a href="#ynh_permission_create" class="hash-link" aria-label="Direkter Link zur ynh_permission_create" title="Direkter Link zur ynh_permission_create">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Create a new permission for the app</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_permission_create --permission=&quot;permission&quot; [--url=&quot;url&quot;] [--additional_urls=&quot;second-url&quot; [ &quot;third-url&quot; ]] [--auth_header=true|false]
                                                       [--allowed=group1 [ group2 ]] [--label=&quot;label&quot;] [--show_tile=true|false]
                                                       [--protected=true|false]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-p</code>, <code>--permission=</code>: the name for the permission (by default a permission named &quot;main&quot; already exist)</li><li><code>-u</code>, <code>--url=</code>: (optional) URL for which access will be allowed/forbidden. Note that if &#x27;show_tile&#x27; is enabled, this URL will be the URL of the tile.</li><li><code>-A</code>, <code>--additional_urls=</code>: (optional) List of additional URL for which access will be allowed/forbidden</li><li><code>-h</code>, <code>--auth_header=</code>: (optional) Define for the URL of this permission, if SSOwat pass the authentication header to the application. Default is true</li><li><code>-a</code>, <code>--allowed=</code>: (optional) A list of group/user to allow for the permission</li><li><code>-l</code>, <code>--label=</code>: (optional) Define a name for the permission. This label will be shown on the SSO and in the admin. Default is &quot;APP_LABEL (permission name)&quot;.</li><li><code>-t</code>, <code>--show_tile=</code>: (optional) Define if a tile will be shown in the SSO. If yes the name of the tile will be the &#x27;label&#x27; parameter. Defaults to false for the permission different than &#x27;main&#x27;.</li><li><code>-P</code>, <code>--protected=</code>: (optional) Define if this permission is protected. If it is protected the administrator won&#x27;t be able to add or remove the visitors group of this permission. Defaults to &#x27;false&#x27;.</li></ul><p><strong>Details</strong>:<br>
Example 1: <code>ynh_permission_create --permission=admin --url=/admin --additional_urls=domain.tld/admin /superadmin --allowed=alice bob \
                                 --label=&quot;My app admin&quot; --show_tile=true</code></p><p>This example will create a new permission permission with this following effect:</p><ul><li>A tile named &quot;My app admin&quot; in the SSO will be available for the users alice and bob. This tile will point to the relative url &#x27;/admin&#x27;.</li><li>Only the user alice and bob will have the access to theses following url: /admin, domain.tld/admin, /superadmin</li></ul><p>Example 2:</p><p>ynh_permission_create --permission=api --url=domain.tld/api --auth_header=false --allowed=visitors \
--label=&quot;MyApp API&quot; --protected=true</p><p>This example will create a new protected permission. So the admin won&#x27;t be able to add/remove the visitors group of this permission.
In case of an API with need to be always public it avoid that the admin break anything.
With this permission all client will be allowed to access to the url &#x27;domain.tld/api&#x27;.
Note that in this case no tile will be show on the SSO.
Note that the auth_header parameter is to &#x27;false&#x27;. So no authentication header will be passed to the application.
Generally the API is requested by an application and enabling the auth_header has no advantage and could bring some issues in some case.
So in this case it&#x27;s better to disable this option for all API.</p><p>If provided, &#x27;url&#x27; or &#x27;additional_urls&#x27; is assumed to be relative to the app domain/path if they
start with &#x27;/&#x27;.  For example:
/                             -&gt; domain.tld/app
/admin                        -&gt; domain.tld/app/admin
domain.tld/app/api            -&gt; domain.tld/app/api</p><p>&#x27;url&#x27; or &#x27;additional_urls&#x27; can be treated as a PCRE (not lua) regex if it starts with &quot;re:&quot;.
For example:
re:/api/<!-- -->[A-Z]<em>$               -&gt; domain.tld/app/api/<!-- -->[A-Z]</em>$
re:domain.tld/app/api/<!-- -->[A-Z]<em>$ -&gt; domain.tld/app/api/<!-- -->[A-Z]</em>$</p><p>Note that globally the parameter &#x27;url&#x27; and &#x27;additional_urls&#x27; are same. The only difference is:</p><ul><li>&#x27;url&#x27; is only one url, &#x27;additional_urls&#x27; can be a list of urls. There are no limitation of &#x27;additional_urls&#x27;</li><li>&#x27;url&#x27; is used for the url of tile in the SSO (if enabled with the &#x27;show_tile&#x27; parameter)</li></ul><p>About the authentication header (auth_header parameter).
The SSO pass (by default) to the application theses following HTTP header (linked to the authenticated user) to the application:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   - &quot;Auth-User&quot;: username</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   - &quot;Remote-User&quot;: username</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   - &quot;Email&quot;: user email</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Generally this feature is usefull to authenticate automatically the user in the application but in some case the application don&#x27;t work with theses header and theses header need to be disabled to have the application to work correctly.
See <a href="https://github.com/YunoHost/issues/issues/1420" target="_blank" rel="noopener noreferrer">https://github.com/YunoHost/issues/issues/1420</a> for more informations</p><p>Requires YunoHost version 3.7.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/permission#L66" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_permission_delete">ynh_permission_delete<a href="#ynh_permission_delete" class="hash-link" aria-label="Direkter Link zur ynh_permission_delete" title="Direkter Link zur ynh_permission_delete">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove a permission for the app (note that when the app is removed all permission is automatically removed)</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_permission_delete --permission=&quot;permission&quot;</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-p</code>, <code>--permission=</code>: the name for the permission (by default a permission named &quot;main&quot; is removed automatically when the app is removed)</li></ul><p><strong>Example</strong>: <code>ynh_permission_delete --permission=editors</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 3.7.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/permission#L152" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_permission_exists">ynh_permission_exists<a href="#ynh_permission_exists" class="hash-link" aria-label="Direkter Link zur ynh_permission_exists" title="Direkter Link zur ynh_permission_exists">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Check if a permission exists</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_permission_exists --permission=permission
| exit: Return 1 if the permission doesn&#x27;t exist, 0 otherwise</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-p</code>, <code>--permission=</code>: the permission to check</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 3.7.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/permission#L169" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_permission_url">ynh_permission_url<a href="#ynh_permission_url" class="hash-link" aria-label="Direkter Link zur ynh_permission_url" title="Direkter Link zur ynh_permission_url">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Redefine the url associated to a permission</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_permission_url --permission &quot;permission&quot; [--url=&quot;url&quot;] [--add_url=&quot;new-url&quot; [ &quot;other-new-url&quot; ]] [--remove_url=&quot;old-url&quot; [ &quot;other-old-url&quot; ]]
                                                    [--auth_header=true|false] [--clear_urls]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-p</code>, <code>--permission=</code>: the name for the permission (by default a permission named &quot;main&quot; is removed automatically when the app is removed)</li><li><code>-u</code>, <code>--url=</code>: (optional) URL for which access will be allowed/forbidden. Note that if you want to remove url you can pass an empty sting as arguments (&quot;&quot;).</li><li><code>-a</code>, <code>--add_url=</code>: (optional) List of additional url to add for which access will be allowed/forbidden.</li><li><code>-r</code>, <code>--remove_url=</code>: (optional) List of additional url to remove for which access will be allowed/forbidden</li><li><code>-h</code>, <code>--auth_header=</code>: (optional) Define for the URL of this permission, if SSOwat pass the authentication header to the application</li><li><code>-c</code>, <code>--clear_urls</code>: (optional) Clean all urls (url and additional_urls)</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 3.7.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/permission#L192" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_permission_update">ynh_permission_update<a href="#ynh_permission_update" class="hash-link" aria-label="Direkter Link zur ynh_permission_update" title="Direkter Link zur ynh_permission_update">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Update a permission for the app</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_permission_update --permission &quot;permission&quot; [--add=&quot;group&quot; [&quot;group&quot; ...]] [--remove=&quot;group&quot; [&quot;group&quot; ...]]
                                                       [--label=&quot;label&quot;] [--show_tile=true|false] [--protected=true|false]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-p</code>, <code>--permission=</code>: the name for the permission (by default a permission named &quot;main&quot; already exist)</li><li><code>-a</code>, <code>--add=</code>: the list of group or users to enable add to the permission</li><li><code>-r</code>, <code>--remove=</code>: the list of group or users to remove from the permission</li><li><code>-l</code>, <code>--label=</code>: (optional) Define a name for the permission. This label will be shown on the SSO and in the admin.</li><li><code>-t</code>, <code>--show_tile=</code>: (optional) Define if a tile will be shown in the SSO</li><li><code>-P</code>, <code>--protected=</code>: (optional) Define if this permission is protected. If it is protected the administrator won&#x27;t be able to add or remove the visitors group of this permission.</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 3.7.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/permission#L260" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_permission_has_user">ynh_permission_has_user<a href="#ynh_permission_has_user" class="hash-link" aria-label="Direkter Link zur ynh_permission_has_user" title="Direkter Link zur ynh_permission_has_user">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Check if a permission has an user</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_permission_has_user --permission=permission --user=user
| exit: Return 1 if the permission doesn&#x27;t have that user or doesn&#x27;t exist, 0 otherwise</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-p</code>, <code>--permission=</code>: the permission to check</li><li><code>-u</code>, <code>--user=</code>: the user seek in the permission</li></ul><p><strong>Example</strong>: <code>ynh_permission_has_user --permission=main --user=visitors</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 3.7.1 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/permission#L329" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_legacy_permissions_exists">ynh_legacy_permissions_exists<a href="#ynh_legacy_permissions_exists" class="hash-link" aria-label="Direkter Link zur ynh_legacy_permissions_exists" title="Direkter Link zur ynh_legacy_permissions_exists">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Check if a legacy permissions exist</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_legacy_permissions_exists
| exit: Return 1 if the permission doesn&#x27;t exist, 0 otherwise</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 4.1.2 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/permission#L359" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_legacy_permissions_delete_all">ynh_legacy_permissions_delete_all<a href="#ynh_legacy_permissions_delete_all" class="hash-link" aria-label="Direkter Link zur ynh_legacy_permissions_delete_all" title="Direkter Link zur ynh_legacy_permissions_delete_all">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove all legacy permissions</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_legacy_permissions_delete_all</code></p><p><strong>Example</strong>: <code>if ynh_legacy_permissions_exists then ynh_legacy_permissions_delete_all # You can recreate the required permissions here with ynh_permission_create fi Requires YunoHost version 4.1.2 or higher.</code></p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/permission#L379" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="php">PHP<a href="#php" class="hash-link" aria-label="Direkter Link zur PHP" title="Direkter Link zur PHP">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_add_fpm_config">ynh_add_fpm_config<a href="#ynh_add_fpm_config" class="hash-link" aria-label="Direkter Link zur ynh_add_fpm_config" title="Direkter Link zur ynh_add_fpm_config">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Create a dedicated PHP-FPM config</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_add_fpm_config</code></p><p><strong>Details</strong>:<br>
Case 1 (recommended) : your provided a snippet conf/extra_php-fpm.conf</p><p>The actual PHP configuration will be automatically generated,
and your extra_php-fpm.conf will be appended (typically contains PHP upload limits)</p><p>The resulting configuration will be deployed to the appropriate place, /etc/php/$phpversion/fpm/pool.d/$app.conf</p><p>Performance-related options in the PHP conf, such as :
pm.max_children, pm.start_servers, pm.min_spare_servers pm.max_spare_servers
are computed from two parameters called &quot;usage&quot; and &quot;footprint&quot; which can be set to low/medium/high. (cf details below)</p><p>If you wish to tweak those, please initialize the settings <code>fpm_usage</code> and <code>fpm_footprint</code>
<em>prior</em> to calling this helper. Otherwise, &quot;low&quot; will be used as a default for both values.</p><p>Otherwise, if you want the user to have control over these, we encourage to create a config panel
(which should ultimately be standardized by the core ...)</p><p>Case 2 (deprecate) : you provided an entire conf/php-fpm.conf</p><p>The configuration will be hydrated, replacing <strong>FOOBAR</strong> placeholders with $foobar values, etc.</p><p>The resulting configuration will be deployed to the appropriate place, /etc/php/$phpversion/fpm/pool.d/$app.conf</p><hr><p>fpm_footprint: Memory footprint of the service (low/medium/high).
low    - Less than 20 MB of RAM by pool.
medium - Between 20 MB and 40 MB of RAM by pool.
high   - More than 40 MB of RAM by pool.
N      - Or you can specify a quantitative footprint as MB by pool (use watch -n0.5 ps -o user,cmd,%cpu,rss -u APP)</p><p>fpm_usage: Expected usage of the service (low/medium/high).
low    - Personal usage, behind the SSO.
medium - Low usage, few people or/and publicly accessible.
high   - High usage, frequently visited website.</p><p>The footprint of the service will be used to defined the maximum footprint we can allow, which is half the maximum RAM.
So it will be used to defined &#x27;pm.max_children&#x27;
A lower value for the footprint will allow more children for &#x27;pm.max_children&#x27;. And so for
&#x27;pm.start_servers&#x27;, &#x27;pm.min_spare_servers&#x27; and &#x27;pm.max_spare_servers&#x27; which are defined from the
value of &#x27;pm.max_children&#x27;
NOTE: &#x27;pm.max_children&#x27; can&#x27;t exceed 4 times the number of processor&#x27;s cores.</p><p>The usage value will defined the way php will handle the children for the pool.
A value set as &#x27;low&#x27; will set the process manager to &#x27;ondemand&#x27;. Children will start only if the
service is used, otherwise no child will stay alive. This config gives the lower footprint when the
service is idle. But will use more proc since it has to start a child as soon it&#x27;s used.
Set as &#x27;medium&#x27;, the process manager will be at dynamic. If the service is idle, a number of children
equal to pm.min_spare_servers will stay alive. So the service can be quick to answer to any request.
The number of children can grow if needed. The footprint can stay low if the service is idle, but
not null. The impact on the proc is a little bit less than &#x27;ondemand&#x27; as there&#x27;s always a few
children already available.
Set as &#x27;high&#x27;, the process manager will be set at &#x27;static&#x27;. There will be always as many children as
&#x27;pm.max_children&#x27;, the footprint is important (but will be set as maximum a quarter of the maximum
RAM) but the impact on the proc is lower. The service will be quick to answer as there&#x27;s always many
children ready to answer.</p><p>Requires YunoHost version 4.1.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/php#L70" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_remove_fpm_config">ynh_remove_fpm_config<a href="#ynh_remove_fpm_config" class="hash-link" aria-label="Direkter Link zur ynh_remove_fpm_config" title="Direkter Link zur ynh_remove_fpm_config">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove the dedicated PHP-FPM config</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_remove_fpm_config</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 2.7.2 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/php#L281" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_composer_exec">ynh_composer_exec<a href="#ynh_composer_exec" class="hash-link" aria-label="Direkter Link zur ynh_composer_exec" title="Direkter Link zur ynh_composer_exec">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Execute a command with Composer</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_composer_exec [--phpversion=phpversion] [--workdir=$install_dir] --commands=&quot;commands&quot;</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-v</code>, <code>--phpversion</code>: PHP version to use with composer</li><li><code>-w</code>, <code>--workdir</code>: The directory from where the command will be executed. Default $install_dir or $final_path</li><li><code>-c</code>, <code>--commands</code>: Commands to execute.</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 4.2 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/php#L514" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_install_composer">ynh_install_composer<a href="#ynh_install_composer" class="hash-link" aria-label="Direkter Link zur ynh_install_composer" title="Direkter Link zur ynh_install_composer">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Install and initialize Composer in the given directory</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_install_composer [--phpversion=phpversion] [--workdir=$install_dir] [--install_args=&quot;--optimize-autoloader&quot;] [--composerversion=composerversion]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-v</code>, <code>--phpversion</code>: PHP version to use with composer</li><li><code>-w</code>, <code>--workdir</code>: The directory from where the command will be executed. Default $install_dir.</li><li><code>-a</code>, <code>--install_args</code>: Additional arguments provided to the composer install. Argument --no-dev already include</li><li><code>-c</code>, <code>--composerversion</code>: Composer version to install</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 4.2 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/php#L546" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="postgresql">POSTGRESQL<a href="#postgresql" class="hash-link" aria-label="Direkter Link zur POSTGRESQL" title="Direkter Link zur POSTGRESQL">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_psql_connect_as">ynh_psql_connect_as<a href="#ynh_psql_connect_as" class="hash-link" aria-label="Direkter Link zur ynh_psql_connect_as" title="Direkter Link zur ynh_psql_connect_as">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Open a connection as a user</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_psql_connect_as --user=user --password=password [--database=database]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-u</code>, <code>--user=</code>: the user name to connect as</li><li><code>-p</code>, <code>--password=</code>: the user password</li><li><code>-d</code>, <code>--database=</code>: the database to connect to</li></ul><p><strong>Examples</strong>:</p><ul><li><code>   ynh_psql_connect_as &#x27;user&#x27; &#x27;pass&#x27; &lt;&lt;&lt; &quot;UPDATE ...;&quot;</code></li><li><code>   ynh_psql_connect_as &#x27;user&#x27; &#x27;pass&#x27; &lt; /path/to/file.sql</code></li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 3.5.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/postgresql#L18" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_psql_execute_as_root">ynh_psql_execute_as_root<a href="#ynh_psql_execute_as_root" class="hash-link" aria-label="Direkter Link zur ynh_psql_execute_as_root" title="Direkter Link zur ynh_psql_execute_as_root">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Execute a command as root user</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_psql_execute_as_root --sql=sql [--database=database]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-s</code>, <code>--sql=</code>: the SQL command to execute</li><li><code>-d</code>, <code>--database=</code>: the database to connect to</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 3.5.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/postgresql#L39" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_psql_execute_file_as_root">ynh_psql_execute_file_as_root<a href="#ynh_psql_execute_file_as_root" class="hash-link" aria-label="Direkter Link zur ynh_psql_execute_file_as_root" title="Direkter Link zur ynh_psql_execute_file_as_root">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Execute a command from a file as root user</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_psql_execute_file_as_root --file=file [--database=database]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-f</code>, <code>--file=</code>: the file containing SQL commands</li><li><code>-d</code>, <code>--database=</code>: the database to connect to</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 3.5.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/postgresql#L64" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_psql_dump_db">ynh_psql_dump_db<a href="#ynh_psql_dump_db" class="hash-link" aria-label="Direkter Link zur ynh_psql_dump_db" title="Direkter Link zur ynh_psql_dump_db">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Dump a database</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_psql_dump_db --database=database</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-d</code>, <code>--database=</code>: the database name to dump</li></ul><p><strong>Returns</strong>: the psqldump output</p><p><strong>Example</strong>: <code>ynh_psql_dump_db &#x27;roundcube&#x27; &gt; ./dump.sql</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 3.5.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/postgresql#L135" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_psql_user_exists">ynh_psql_user_exists<a href="#ynh_psql_user_exists" class="hash-link" aria-label="Direkter Link zur ynh_psql_user_exists" title="Direkter Link zur ynh_psql_user_exists">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Check if a psql user exists</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_psql_user_exists --user=user
| exit: Return 1 if the user doesn&#x27;t exist, 0 otherwise</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-u</code>, <code>--user=</code>: the user for which to check existence</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 3.5.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/postgresql#L168" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_psql_database_exists">ynh_psql_database_exists<a href="#ynh_psql_database_exists" class="hash-link" aria-label="Direkter Link zur ynh_psql_database_exists" title="Direkter Link zur ynh_psql_database_exists">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Check if a psql database exists</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_psql_database_exists --database=database
| exit: Return 1 if the database doesn&#x27;t exist, 0 otherwise</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-d</code>, <code>--database=</code>: the database for which to check existence</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 3.5.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/postgresql#L190" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_psql_setup_db">ynh_psql_setup_db<a href="#ynh_psql_setup_db" class="hash-link" aria-label="Direkter Link zur ynh_psql_setup_db" title="Direkter Link zur ynh_psql_setup_db">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Create a database, an user and its password. Then store the password in the app&#x27;s config</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_psql_setup_db --db_user=user --db_name=name [--db_pwd=pwd]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-u</code>, <code>--db_user=</code>: Owner of the database</li><li><code>-n</code>, <code>--db_name=</code>: Name of the database</li><li><code>-p</code>, <code>--db_pwd=</code>: Password of the database. If not provided, a password will be generated</li></ul><p><strong>Details</strong>:<br>
After executing this helper, the password of the created database will be available in $db_pwd
It will also be stored as &quot;psqlpwd&quot; into the app settings.</p><p>Requires YunoHost version 2.7.13 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/postgresql#L234" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_psql_remove_db">ynh_psql_remove_db<a href="#ynh_psql_remove_db" class="hash-link" aria-label="Direkter Link zur ynh_psql_remove_db" title="Direkter Link zur ynh_psql_remove_db">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove a database if it exists, and the associated user</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_psql_remove_db --db_user=user --db_name=name</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-u</code>, <code>--db_user=</code>: Owner of the database</li><li><code>-n</code>, <code>--db_name=</code>: Name of the database</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 2.7.13 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/postgresql#L265" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting">SETTING<a href="#setting" class="hash-link" aria-label="Direkter Link zur SETTING" title="Direkter Link zur SETTING">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_app_setting_get">ynh_app_setting_get<a href="#ynh_app_setting_get" class="hash-link" aria-label="Direkter Link zur ynh_app_setting_get" title="Direkter Link zur ynh_app_setting_get">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Get an application setting</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_app_setting_get --app=app --key=key</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-a</code>, <code>--app=</code>: the application id</li><li><code>-k</code>, <code>--key=</code>: the setting to get</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 2.2.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/setting#L10" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_app_setting_set">ynh_app_setting_set<a href="#ynh_app_setting_set" class="hash-link" aria-label="Direkter Link zur ynh_app_setting_set" title="Direkter Link zur ynh_app_setting_set">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Set an application setting</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_app_setting_set --app=app --key=key --value=value</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-a</code>, <code>--app=</code>: the application id</li><li><code>-k</code>, <code>--key=</code>: the setting name to set</li><li><code>-v</code>, <code>--value=</code>: the setting value to set</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 2.2.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/setting#L36" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_app_setting_delete">ynh_app_setting_delete<a href="#ynh_app_setting_delete" class="hash-link" aria-label="Direkter Link zur ynh_app_setting_delete" title="Direkter Link zur ynh_app_setting_delete">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Delete an application setting</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_app_setting_delete --app=app --key=key</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-a</code>, <code>--app=</code>: the application id</li><li><code>-k</code>, <code>--key=</code>: the setting to delete</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 2.2.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/setting#L62" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_webpath_available">ynh_webpath_available<a href="#ynh_webpath_available" class="hash-link" aria-label="Direkter Link zur ynh_webpath_available" title="Direkter Link zur ynh_webpath_available">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Check availability of a web path</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_webpath_available --domain=domain --path_url=path</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-d</code>, <code>--domain=</code>: the domain/host of the url</li><li><code>-p</code>, <code>--path_url=</code>: the web path to check the availability of</li></ul><p><strong>Example</strong>: <code>ynh_webpath_available --domain=some.domain.tld --path_url=/coffee</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 2.6.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/setting#L123" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_webpath_register">ynh_webpath_register<a href="#ynh_webpath_register" class="hash-link" aria-label="Direkter Link zur ynh_webpath_register" title="Direkter Link zur ynh_webpath_register">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Register/book a web path for an app</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_webpath_register --app=app --domain=domain --path_url=path</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-a</code>, <code>--app=</code>: the app for which the domain should be registered</li><li><code>-d</code>, <code>--domain=</code>: the domain/host of the web path</li><li><code>-p</code>, <code>--path_url=</code>: the web path to be registered</li></ul><p><strong>Example</strong>: <code>ynh_webpath_register --app=wordpress --domain=some.domain.tld --path_url=/coffee</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 2.6.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/setting#L145" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="string">STRING<a href="#string" class="hash-link" aria-label="Direkter Link zur STRING" title="Direkter Link zur STRING">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_string_random">ynh_string_random<a href="#ynh_string_random" class="hash-link" aria-label="Direkter Link zur ynh_string_random" title="Direkter Link zur ynh_string_random">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Generate a random string</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_string_random [--length=string_length]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-l</code>, <code>--length=</code>: the string length to generate (default: 24)</li><li><code>-f</code>, <code>--filter=</code>: the kind of characters accepted in the output (default: &#x27;A-Za-z0-9&#x27;)</li></ul><p><strong>Returns</strong>: the generated string</p><p><strong>Example</strong>: <code>pwd=$(ynh_string_random --length=8)</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 2.2.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/string#L13" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_replace_string">ynh_replace_string<a href="#ynh_replace_string" class="hash-link" aria-label="Direkter Link zur ynh_replace_string" title="Direkter Link zur ynh_replace_string">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Substitute/replace a string (or expression) by another in a file</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_replace_string --match_string=match_string --replace_string=replace_string --target_file=target_file</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-m</code>, <code>--match_string=</code>: String to be searched and replaced in the file</li><li><code>-r</code>, <code>--replace_string=</code>: String that will replace matches</li><li><code>-f</code>, <code>--target_file=</code>: File in which the string will be replaced.</li></ul><p><strong>Details</strong>:<br>
As this helper is based on sed command, regular expressions and references to
sub-expressions can be used (see sed manual page for more information)</p><p>Requires YunoHost version 2.6.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/string#L40" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_replace_special_string">ynh_replace_special_string<a href="#ynh_replace_special_string" class="hash-link" aria-label="Direkter Link zur ynh_replace_special_string" title="Direkter Link zur ynh_replace_special_string">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Substitute/replace a special string by another in a file</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_replace_special_string --match_string=match_string --replace_string=replace_string --target_file=target_file</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-m</code>, <code>--match_string=</code>: String to be searched and replaced in the file</li><li><code>-r</code>, <code>--replace_string=</code>: String that will replace matches</li><li><code>-t</code>, <code>--target_file=</code>: File in which the string will be replaced.</li></ul><p><strong>Details</strong>:<br>
This helper will use ynh_replace_string, but as you can use special
characters, you can&#x27;t use some regular expressions and sub-expressions.</p><p>Requires YunoHost version 2.7.7 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/string#L71" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_sanitize_dbid">ynh_sanitize_dbid<a href="#ynh_sanitize_dbid" class="hash-link" aria-label="Direkter Link zur ynh_sanitize_dbid" title="Direkter Link zur ynh_sanitize_dbid">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Sanitize a string intended to be the name of a database</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_sanitize_dbid --db_name=name</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-n</code>, <code>--db_name=</code>: name to correct/sanitize</li></ul><p><strong>Returns</strong>: the corrected name</p><p><strong>Example</strong>: <code>dbname=$(ynh_sanitize_dbid $app)</code></p><p><strong>Details</strong>:<br>
Underscorify the string (replace - and . by _)</p><p>Requires YunoHost version 2.2.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/string#L103" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="systemd">SYSTEMD<a href="#systemd" class="hash-link" aria-label="Direkter Link zur SYSTEMD" title="Direkter Link zur SYSTEMD">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_add_systemd_config">ynh_add_systemd_config<a href="#ynh_add_systemd_config" class="hash-link" aria-label="Direkter Link zur ynh_add_systemd_config" title="Direkter Link zur ynh_add_systemd_config">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Create a dedicated systemd config</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_add_systemd_config [--service=service] [--template=template]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-s</code>, <code>--service=</code>: Service name (optionnal, <code>$app</code> by default)</li><li><code>-t</code>, <code>--template=</code>: Name of template file (optionnal, this is &#x27;systemd&#x27; by default, meaning <code>../conf/systemd.service</code> will be used as template)</li></ul><p><strong>Details</strong>:<br>
This will use the template <code>../conf/&lt;templatename&gt;.service</code>.</p><p>See the documentation of <code>ynh_add_config</code> for a description of the template
format and how placeholders are replaced with actual variables.</p><p>Requires YunoHost version 4.1.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/systemd#L15" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_remove_systemd_config">ynh_remove_systemd_config<a href="#ynh_remove_systemd_config" class="hash-link" aria-label="Direkter Link zur ynh_remove_systemd_config" title="Direkter Link zur ynh_remove_systemd_config">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove the dedicated systemd config</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_remove_systemd_config [--service=service]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-s</code>, <code>--service=</code>: Service name (optionnal, $app by default)</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 2.7.2 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/systemd#L38" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_systemd_action">ynh_systemd_action<a href="#ynh_systemd_action" class="hash-link" aria-label="Direkter Link zur ynh_systemd_action" title="Direkter Link zur ynh_systemd_action">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Start (or other actions) a service,  print a log in case of failure and optionnaly wait until the service is completely started</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_systemd_action [--service_name=service_name] [--action=action] [ [--line_match=&quot;line to match&quot;] [--log_path=log_path] [--timeout=300] [--length=20] ]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-n</code>, <code>--service_name=</code>: Name of the service to start. Default : <code>$app</code></li><li><code>-a</code>, <code>--action=</code>: Action to perform with systemctl. Default: start</li><li><code>-l</code>, <code>--line_match=</code>: Line to match - The line to find in the log to attest the service have finished to boot. If not defined it don&#x27;t wait until the service is completely started.</li><li><code>-p</code>, <code>--log_path=</code>: Log file - Path to the log file. Default : <code>/var/log/$app/$app.log</code></li><li><code>-t</code>, <code>--timeout=</code>: Timeout - The maximum time to wait before ending the watching. Default : 300 seconds.</li><li><code>-e</code>, <code>--length=</code>: Length of the error log displayed for debugging : Default : 20</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 3.5.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/systemd#L67" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="user">USER<a href="#user" class="hash-link" aria-label="Direkter Link zur USER" title="Direkter Link zur USER">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_user_exists">ynh_user_exists<a href="#ynh_user_exists" class="hash-link" aria-label="Direkter Link zur ynh_user_exists" title="Direkter Link zur ynh_user_exists">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Check if a YunoHost user exists</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_user_exists --username=username</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-u</code>, <code>--username=</code>: the username to check</li></ul><p><strong>Returns</strong>: 0 if the user exists, 1 otherwise.</p><p><strong>Example</strong>: <code>ynh_user_exists &#x27;toto&#x27; || echo &quot;User does not exist&quot;</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 2.2.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/user#L12" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_user_get_info">ynh_user_get_info<a href="#ynh_user_get_info" class="hash-link" aria-label="Direkter Link zur ynh_user_get_info" title="Direkter Link zur ynh_user_get_info">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Retrieve a YunoHost user information</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_user_get_info --username=username --key=key</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-u</code>, <code>--username=</code>: the username to retrieve info from</li><li><code>-k</code>, <code>--key=</code>: the key to retrieve</li></ul><p><strong>Returns</strong>: the value associate to that key</p><p><strong>Example</strong>: <code>mail=$(ynh_user_get_info --username=&quot;toto&quot; --key=mail)</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 2.2.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/user#L33" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_user_list">ynh_user_list<a href="#ynh_user_list" class="hash-link" aria-label="Direkter Link zur ynh_user_list" title="Direkter Link zur ynh_user_list">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Get the list of YunoHost users</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_user_list</code></p><p><strong>Returns</strong>: one username per line as strings</p><p><strong>Example</strong>: <code>for u in $(ynh_user_list); do ... ; done</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 2.4.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/user#L53" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_system_user_exists">ynh_system_user_exists<a href="#ynh_system_user_exists" class="hash-link" aria-label="Direkter Link zur ynh_system_user_exists" title="Direkter Link zur ynh_system_user_exists">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Check if a user exists on the system</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_system_user_exists --username=username</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-u</code>, <code>--username=</code>: the username to check</li></ul><p><strong>Returns</strong>: 0 if the user exists, 1 otherwise.</p><p><strong>Details</strong>:<br>
Requires YunoHost version 2.2.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/user#L64" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_system_group_exists">ynh_system_group_exists<a href="#ynh_system_group_exists" class="hash-link" aria-label="Direkter Link zur ynh_system_group_exists" title="Direkter Link zur ynh_system_group_exists">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Check if a group exists on the system</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_system_group_exists --group=group</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-g</code>, <code>--group=</code>: the group to check</li></ul><p><strong>Returns</strong>: 0 if the group exists, 1 otherwise.</p><p><strong>Details</strong>:<br>
Requires YunoHost version 3.5.0.2 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/user#L82" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_system_user_create">ynh_system_user_create<a href="#ynh_system_user_create" class="hash-link" aria-label="Direkter Link zur ynh_system_user_create" title="Direkter Link zur ynh_system_user_create">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Create a system user</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_system_user_create --username=user_name [--home_dir=home_dir] [--use_shell] [--groups=&quot;group1 group2&quot;]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-u</code>, <code>--username=</code>: Name of the system user that will be create</li><li><code>-h</code>, <code>--home_dir=</code>: Path of the home dir for the user. Usually the final path of the app. If this argument is omitted, the user will be created without home</li><li><code>-s</code>, <code>--use_shell</code>: Create a user using the default login shell if present. If this argument is omitted, the user will be created with /usr/sbin/nologin shell</li><li><code>-g</code>, <code>--groups</code>: Add the user to system groups. Typically meant to add the user to the ssh.app / sftp.app group (e.g. for borgserver, my_webapp)</li></ul><p><strong>Details</strong>:<br>
Create a nextcloud user with no home directory and /usr/sbin/nologin login shell (hence no login capability) :</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ynh_system_user_create --username=nextcloud</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Create a discourse user using /var/www/discourse as home directory and the default login shell :</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ynh_system_user_create --username=discourse --home_dir=/var/www/discourse --use_shell</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Requires YunoHost version 2.6.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/user#L111" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_system_user_delete">ynh_system_user_delete<a href="#ynh_system_user_delete" class="hash-link" aria-label="Direkter Link zur ynh_system_user_delete" title="Direkter Link zur ynh_system_user_delete">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Delete a system user</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_system_user_delete --username=user_name</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-u</code>, <code>--username=</code>: Name of the system user that will be create</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 2.6.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/user#L153" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_exec_as">ynh_exec_as<a href="#ynh_exec_as" class="hash-link" aria-label="Direkter Link zur ynh_exec_as" title="Direkter Link zur ynh_exec_as">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Execute a command as another user</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_exec_as $USER COMMAND [ARG ...]</code></p><p><strong>Details</strong>:<br>
Requires YunoHost version 4.1.7 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/user#L179" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h2 class="anchor anchorWithStickyNavbar_LWe7" id="utils">UTILS<a href="#utils" class="hash-link" aria-label="Direkter Link zur UTILS" title="Direkter Link zur UTILS">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_abort_if_errors">ynh_abort_if_errors<a href="#ynh_abort_if_errors" class="hash-link" aria-label="Direkter Link zur ynh_abort_if_errors" title="Direkter Link zur ynh_abort_if_errors">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Exits if an error occurs during the execution of the script.</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_abort_if_errors</code></p><p><strong>Details</strong>:<br>
This configure the rest of the script execution such that, if an error occurs
or if an empty variable is used, the execution of the script stops immediately
and a call to <code>ynh_clean_setup</code> is triggered if it has been defined by your script.</p><p>Requires YunoHost version 2.6.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/utils#L61" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_setup_source">ynh_setup_source<a href="#ynh_setup_source" class="hash-link" aria-label="Direkter Link zur ynh_setup_source" title="Direkter Link zur ynh_setup_source">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Download, check integrity, uncompress and patch the source from app.src</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_setup_source --dest_dir=dest_dir [--source_id=source_id] [--keep=&quot;file1 file2&quot;] [--full_replace]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-d</code>, <code>--dest_dir=</code>: Directory where to setup sources</li><li><code>-s</code>, <code>--source_id=</code>: Name of the source, defaults to <code>main</code> (when the sources resource exists in manifest.toml) or (legacy) <code>app</code> otherwise</li><li><code>-k</code>, <code>--keep=</code>: Space-separated list of files/folders that will be backup/restored in $dest_dir, such as a config file you don&#x27;t want to overwrite. For example &#x27;conf.json secrets.json logs/&#x27;</li><li><code>-r</code>, <code>--full_replace=</code>: Remove previous sources before installing new sources</li></ul><p><strong>Details</strong>:<br></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-sources-resources">New &#x27;sources&#x27; resources<a href="#new-sources-resources" class="hash-link" aria-label="Direkter Link zur New &#x27;sources&#x27; resources" title="Direkter Link zur New &#x27;sources&#x27; resources">​</a></h3><p>(See also the resources documentation which may be more complete?)</p><p>This helper will read infos from the &#x27;sources&#x27; resources in the manifest.toml of the app
and expect a structure like:</p><div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[resources.sources]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [resources.sources.main]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    url = &quot;https://some.address.to/download/the/app/archive&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sha256 = &quot;0123456789abcdef&quot;    # The sha256 sum of the asset obtained from the URL</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="optional-flags">Optional flags<a href="#optional-flags" class="hash-link" aria-label="Direkter Link zur Optional flags" title="Direkter Link zur Optional flags">​</a></h4><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">format    = &quot;tar.gz&quot;/xz/bz2    # automatically guessed from the extension of the URL, but can be set explicitly. Will use `tar` to extract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;zip&quot;              # automatically guessed from the extension of the URL, but can be set explicitly. Will use `unzip` to extract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;docker&quot;           # useful to extract files from an already-built docker image (instead of rebuilding them locally). Will use `docker-image-extract` to extract</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;whatever&quot;         # an arbitrary value, not really meaningful except to imply that the file won&#x27;t be extracted</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">in_subdir = true    # default, there&#x27;s an intermediate subdir in the archive before accessing the actual files</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            false   # sources are directly in the archive root</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            n       # (special cases) an integer representing a number of subdirs levels to get rid of</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">extract   = true    # default if file is indeed an archive such as .zip, .tar.gz, .tar.bz2, ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          = false   # default if file &#x27;format&#x27; is not set and the file is not to be extracted because it is not an archive but a script or binary or whatever asset.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    #    in which case the file will only be `mv`ed to the location possibly renamed using the `rename` value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rename    = &quot;whatever_your_want&quot;   # to be used for convenience when `extract` is false and the default name of the file is not practical</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">platform  = &quot;linux/amd64&quot;          # (defaults to &quot;linux/$YNH_ARCH&quot;) to be used in conjonction with `format = &quot;docker&quot;` to specify which architecture to extract for</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You may also define assets url and checksum per-architectures such as:</p><div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[resources.sources]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [resources.sources.main]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    amd64.url = &quot;https://some.address.to/download/the/app/archive/when/amd64&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    amd64.sha256 = &quot;0123456789abcdef&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    armhf.url = &quot;https://some.address.to/download/the/app/archive/when/armhf&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    armhf.sha256 = &quot;fedcba9876543210&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In which case ynh_setup_source --dest_dir=&quot;$install_dir&quot; will automatically pick the appropriate source depending on the arch</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="legacy-format-src">Legacy format &#x27;.src&#x27;<a href="#legacy-format-src" class="hash-link" aria-label="Direkter Link zur Legacy format &#x27;.src&#x27;" title="Direkter Link zur Legacy format &#x27;.src&#x27;">​</a></h3><p>This helper will read <code>conf/${source_id}.src</code>, download and install the sources.</p><p>The src file need to contains:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SOURCE_URL=Address to download the app archive</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SOURCE_SUM=Sha256 sum</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SOURCE_FORMAT=tar.gz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SOURCE_IN_SUBDIR=false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SOURCE_FILENAME=example.tar.gz</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SOURCE_EXTRACT=(true|false)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SOURCE_PLATFORM=linux/arm64/v8</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The helper will:</p><ul><li>Download the specific URL if there is no local archive</li><li>Check the integrity with the specific sha256 sum</li><li>Uncompress the archive to <code>$dest_dir</code>.<ul><li>If <code>in_subdir</code> is true, the first level directory of the archive will be removed.</li><li>If <code>in_subdir</code> is a numeric value, the N first level directories will be removed.</li></ul></li><li>Patches named <code>sources/patches/${src_id}-*.patch</code> will be applied to <code>$dest_dir</code></li><li>Extra files in <code>sources/extra_files/$src_id</code> will be copied to dest_dir</li></ul><p>Requires YunoHost version 2.6.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/utils#L154" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_local_curl">ynh_local_curl<a href="#ynh_local_curl" class="hash-link" aria-label="Direkter Link zur ynh_local_curl" title="Direkter Link zur ynh_local_curl">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Curl abstraction to help with POST requests to local pages (such as installation forms)</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_local_curl &quot;page_uri&quot; &quot;key1=value1&quot; &quot;key2=value2&quot; ...</code></p><p><strong>Arguments</strong>:</p><ul><li><code>page_uri</code>: Path (relative to <code>$path_url</code>) of the page where POST data will be sent</li><li><code>key1=value1</code>: (Optionnal) POST key and corresponding value</li><li><code>key2=value2</code>: (Optionnal) Another POST key and corresponding value</li><li><code>...</code>: (Optionnal) More POST keys and values</li></ul><p><strong>Example</strong>: <code>ynh_local_curl &quot;/install.php?installButton&quot; &quot;foo=$var1&quot; &quot;bar=$var2&quot;</code></p><p><strong>Details</strong>:<br>
For multiple calls, cookies are persisted between each call for the same app</p><p><code>$domain</code> and <code>$path_url</code> should be defined externally (and correspond to the domain.tld and the /path (of the app?))</p><p>Requires YunoHost version 2.6.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/utils#L397" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_add_config">ynh_add_config<a href="#ynh_add_config" class="hash-link" aria-label="Direkter Link zur ynh_add_config" title="Direkter Link zur ynh_add_config">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Create a dedicated config file from a template</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_add_config --template=&quot;template&quot; --destination=&quot;destination&quot;</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-t</code>, <code>--template=</code>: Template config file to use</li><li><code>-d</code>, <code>--destination=</code>: Destination of the config file</li></ul><p><strong>Examples</strong>:</p><ul><li><code>   ynh_add_config --template=&quot;.env&quot; --destination=&quot;$install_dir/.env&quot; use the template file &quot;../conf/.env&quot;</code></li><li><code>   ynh_add_config --template=&quot;/etc/nginx/sites-available/default&quot; --destination=&quot;etc/nginx/sites-available/mydomain.conf&quot;</code></li></ul><p><strong>Details</strong>:<br>
The template can be by default the name of a file in the conf directory
of a YunoHost Package, a relative path or an absolute path.</p><p>The helper will use the template <code>template</code> to generate a config file
<code>destination</code> by replacing the following keywords with global variables
that should be defined before calling this helper :</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  __PATH__                by $path_url</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  __NAME__                by $app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  __NAMETOCHANGE__        by $app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  __USER__                by $app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  __FINALPATH__           by $final_path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  __PHPVERSION__          by $YNH_PHP_VERSION (packaging v1 only, packaging v2 uses phpversion setting implicitly set by apt resource)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  __YNH_NODE_LOAD_PATH__  by $ynh_node_load_PATH</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And any dynamic variables that should be defined before calling this helper like:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  __DOMAIN__   by $domain</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  __APP__      by $app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  __VAR_1__    by $var_1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  __VAR_2__    by $var_2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The helper will verify the checksum and backup the destination file
if it&#x27;s different before applying the new template.</p><p>And it will calculate and store the destination file checksum
into the app settings when configuration is done.</p><p>Requires YunoHost version 4.1.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/utils#L481" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_read_var_in_file">ynh_read_var_in_file<a href="#ynh_read_var_in_file" class="hash-link" aria-label="Direkter Link zur ynh_read_var_in_file" title="Direkter Link zur ynh_read_var_in_file">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Get a value from heterogeneous file (yaml, json, php, python...)</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_read_var_in_file --file=PATH --key=KEY</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-f</code>, <code>--file=</code>: the path to the file</li><li><code>-k</code>, <code>--key=</code>: the key to get</li></ul><p><strong>Details</strong>:<br>
This helpers match several var affectation use case in several languages
We don&#x27;t use jq or equivalent to keep comments and blank space in files
This helpers work line by line, it is not able to work correctly
if you have several identical keys in your files</p><p>Example of line this helpers can managed correctly
.yml
title: YunoHost documentation
email: &#x27;<a href="mailto:yunohost@yunohost.org" target="_blank" rel="noopener noreferrer">yunohost@yunohost.org</a>&#x27;
.json
&quot;theme&quot;: &quot;colib&#x27;ris&quot;,
&quot;port&quot;: 8102
&quot;some_boolean&quot;:     false,
&quot;user&quot;: null
.ini
some_boolean = On
action = &quot;Clear&quot;
port = 20
.php
$user=
user =&gt; 20
.py
USER = 8102
user = &#x27;<a href="https://donate.local&#x27;" target="_blank" rel="noopener noreferrer">https://donate.local&#x27;</a>
CUSTOM<!-- -->[&#x27;user&#x27;]<!-- --> = &#x27;YunoHost&#x27;</p><p>Requires YunoHost version 4.3 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/utils#L635" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_write_var_in_file">ynh_write_var_in_file<a href="#ynh_write_var_in_file" class="hash-link" aria-label="Direkter Link zur ynh_write_var_in_file" title="Direkter Link zur ynh_write_var_in_file">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Set a value into heterogeneous file (yaml, json, php, python...)</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_write_var_in_file --file=PATH --key=KEY --value=VALUE</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-f</code>, <code>--file=</code>: the path to the file</li><li><code>-k</code>, <code>--key=</code>: the key to set</li><li><code>-v</code>, <code>--value=</code>: the value to set</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 4.3 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/utils#L712" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_get_debian_release">ynh_get_debian_release<a href="#ynh_get_debian_release" class="hash-link" aria-label="Direkter Link zur ynh_get_debian_release" title="Direkter Link zur ynh_get_debian_release">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Fetch the Debian release codename</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_get_debian_release</code></p><p><strong>Returns</strong>: The Debian release codename (i.e. jessie, stretch, ...)</p><p><strong>Details</strong>:<br>
Requires YunoHost version 2.7.12 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/utils#L827" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_secure_remove">ynh_secure_remove<a href="#ynh_secure_remove" class="hash-link" aria-label="Direkter Link zur ynh_secure_remove" title="Direkter Link zur ynh_secure_remove">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Remove a file or a directory securely</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_secure_remove --file=path_to_remove</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-f</code>, <code>--file=</code>: File or directory to remove</li></ul><p><strong>Details</strong>:<br>
Requires YunoHost version 2.6.4 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/utils#L858" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_read_manifest">ynh_read_manifest<a href="#ynh_read_manifest" class="hash-link" aria-label="Direkter Link zur ynh_read_manifest" title="Direkter Link zur ynh_read_manifest">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Read the value of a key in a ynh manifest file</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_read_manifest --manifest=&quot;manifest.json&quot; --key=&quot;key&quot;</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-m</code>, <code>--manifest=</code>: Path of the manifest to read</li><li><code>-k</code>, <code>--key=</code>: Name of the key to find</li></ul><p><strong>Returns</strong>: the value associate to that key</p><p><strong>Details</strong>:<br>
Requires YunoHost version 3.5.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/utils#L892" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_app_upstream_version">ynh_app_upstream_version<a href="#ynh_app_upstream_version" class="hash-link" aria-label="Direkter Link zur ynh_app_upstream_version" title="Direkter Link zur ynh_app_upstream_version">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Read the upstream version from the manifest or `$YNH_APP_MANIFEST_VERSION`</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_app_upstream_version [--manifest=&quot;manifest.json&quot;]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-m</code>, <code>--manifest=</code>: Path of the manifest to read</li></ul><p><strong>Returns</strong>: the version number of the upstream app</p><p><strong>Details</strong>:<br>
If the <code>manifest</code> is not specified, the envvar <code>$YNH_APP_MANIFEST_VERSION</code> will be used.</p><p>The version number in the manifest is defined by <code>&lt;upstreamversion&gt;~ynh&lt;packageversion&gt;</code>.</p><p>For example, if the manifest contains <code>4.3-2~ynh3</code> the function will return <code>4.3-2</code></p><p>Requires YunoHost version 3.5.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/utils#L935" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_app_package_version">ynh_app_package_version<a href="#ynh_app_package_version" class="hash-link" aria-label="Direkter Link zur ynh_app_package_version" title="Direkter Link zur ynh_app_package_version">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Read package version from the manifest</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_app_package_version [--manifest=&quot;manifest.json&quot;]</code></p><p><strong>Arguments</strong>:</p><ul><li><code>-m</code>, <code>--manifest=</code>: Path of the manifest to read</li></ul><p><strong>Returns</strong>: the version number of the package</p><p><strong>Details</strong>:<br>
The version number in the manifest is defined by <code>&lt;upstreamversion&gt;~ynh&lt;packageversion&gt;</code>.</p><p>For example, if the manifest contains <code>4.3-2~ynh3</code> the function will return <code>3</code></p><p>Requires YunoHost version 3.5.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/utils#L964" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_check_app_version_changed">ynh_check_app_version_changed<a href="#ynh_check_app_version_changed" class="hash-link" aria-label="Direkter Link zur ynh_check_app_version_changed" title="Direkter Link zur ynh_check_app_version_changed">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Checks the app version to upgrade with the existing app version and returns:</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_check_app_version_changed</code></p><p><strong>Returns</strong>: <code>UPGRADE_APP</code> if the upstream version changed, <code>UPGRADE_PACKAGE</code> otherwise.</p><p><strong>Details</strong>:<br>
This helper should be used to avoid an upgrade of an app, or the upstream part
of it, when it&#x27;s not needed</p><p>You can force an upgrade, even if the package is up to date, with the <code>--force</code> (or <code>-F</code>) argument :</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo yunohost app upgrade &lt;appname&gt; --force</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Requires YunoHost version 3.5.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/utils#L989" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ynh_compare_current_package_version">ynh_compare_current_package_version<a href="#ynh_compare_current_package_version" class="hash-link" aria-label="Direkter Link zur ynh_compare_current_package_version" title="Direkter Link zur ynh_compare_current_package_version">​</a></h3><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><i>Compare the current package version against another version given as an argument.</i></summary><div><div class="collapsibleContent_i85q"><div><p><strong>Usage</strong>: <code>ynh_compare_current_package_version --comparison (lt|le|eq|ne|ge|gt) --version &lt;X~ynhY&gt;</code></p><p><strong>Arguments</strong>:</p><ul><li><code>--comparison</code>: Comparison type. Could be : <code>lt</code> (lower than), <code>le</code> (lower or equal), <code>eq</code> (equal), <code>ne</code> (not equal), <code>ge</code> (greater or equal), <code>gt</code> (greater than)</li><li><code>--version</code>: The version to compare. Need to be a version in the yunohost package version type (like <code>2.3.1~ynh4</code>)</li></ul><p><strong>Returns</strong>: 0 if the evaluation is true, 1 if false.</p><p><strong>Example</strong>: <code>ynh_compare_current_package_version --comparison lt --version 2.3.2~ynh1</code></p><p><strong>Details</strong>:<br>
This helper is usually used when we need to do some actions only for some old package versions.</p><p>Generally you might probably use it as follow in the upgrade script :</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if ynh_compare_current_package_version --comparison lt --version 2.3.2~ynh1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Do something that is needed for the package version older than 2.3.2~ynh1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fi</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Requires YunoHost version 3.8.0 or higher.</p><p><a href="https://github.com/YunoHost/yunohost/blob/465f6da5cd4d716bbcb802dfd742114083034235/helpers/utils#L1019" target="_blank" rel="noopener noreferrer">Dude, show me the code!</a></p></div></div></div></details><hr></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/06.contribute/10.packaging_apps/80.resources/11.packaging_apps_helpers.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Diese Seite bearbeiten</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Dokumentation Seiten"><a class="pagination-nav__link pagination-nav__link--prev" href="/yunodocusaurus/de/docs/contribute/packaging_apps/resources/packaging_apps_virtualbox/"><div class="pagination-nav__sublabel">Zurück</div><div class="pagination-nav__label">Create a development environment with VirtualBox</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/yunodocusaurus/de/docs/contribute/packaging_apps/resources/packaging_apps_resources/"><div class="pagination-nav__sublabel">Weiter</div><div class="pagination-nav__label">App resources</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#apps" class="table-of-contents__link toc-highlight">APPS</a><ul><li><a href="#ynh_install_apps" class="table-of-contents__link toc-highlight">ynh_install_apps</a></li><li><a href="#ynh_remove_apps" class="table-of-contents__link toc-highlight">ynh_remove_apps</a></li><li><a href="#ynh_spawn_app_shell" class="table-of-contents__link toc-highlight">ynh_spawn_app_shell</a></li></ul></li><li><a href="#apt" class="table-of-contents__link toc-highlight">APT</a><ul><li><a href="#ynh_package_is_installed" class="table-of-contents__link toc-highlight">ynh_package_is_installed</a></li><li><a href="#ynh_package_version" class="table-of-contents__link toc-highlight">ynh_package_version</a></li><li><a href="#ynh_package_update" class="table-of-contents__link toc-highlight">ynh_package_update</a></li><li><a href="#ynh_package_install" class="table-of-contents__link toc-highlight">ynh_package_install</a></li><li><a href="#ynh_package_remove" class="table-of-contents__link toc-highlight">ynh_package_remove</a></li><li><a href="#ynh_package_autoremove" class="table-of-contents__link toc-highlight">ynh_package_autoremove</a></li><li><a href="#ynh_package_autopurge" class="table-of-contents__link toc-highlight">ynh_package_autopurge</a></li><li><a href="#ynh_install_app_dependencies" class="table-of-contents__link toc-highlight">ynh_install_app_dependencies</a></li><li><a href="#ynh_add_app_dependencies" class="table-of-contents__link toc-highlight">ynh_add_app_dependencies</a></li><li><a href="#ynh_remove_app_dependencies" class="table-of-contents__link toc-highlight">ynh_remove_app_dependencies</a></li><li><a href="#ynh_install_extra_app_dependencies" class="table-of-contents__link toc-highlight">ynh_install_extra_app_dependencies</a></li></ul></li><li><a href="#backup" class="table-of-contents__link toc-highlight">BACKUP</a><ul><li><a href="#ynh_backup" class="table-of-contents__link toc-highlight">ynh_backup</a></li><li><a href="#ynh_restore" class="table-of-contents__link toc-highlight">ynh_restore</a></li><li><a href="#ynh_restore_file" class="table-of-contents__link toc-highlight">ynh_restore_file</a></li><li><a href="#ynh_store_file_checksum" class="table-of-contents__link toc-highlight">ynh_store_file_checksum</a></li><li><a href="#ynh_backup_if_checksum_is_different" class="table-of-contents__link toc-highlight">ynh_backup_if_checksum_is_different</a></li><li><a href="#ynh_delete_file_checksum" class="table-of-contents__link toc-highlight">ynh_delete_file_checksum</a></li><li><a href="#ynh_backup_before_upgrade" class="table-of-contents__link toc-highlight">ynh_backup_before_upgrade</a></li><li><a href="#ynh_restore_upgradebackup" class="table-of-contents__link toc-highlight">ynh_restore_upgradebackup</a></li></ul></li><li><a href="#config" class="table-of-contents__link toc-highlight">CONFIG</a></li><li><a href="#fail2ban" class="table-of-contents__link toc-highlight">FAIL2BAN</a><ul><li><a href="#ynh_add_fail2ban_config" class="table-of-contents__link toc-highlight">ynh_add_fail2ban_config</a></li><li><a href="#ynh_remove_fail2ban_config" class="table-of-contents__link toc-highlight">ynh_remove_fail2ban_config</a></li></ul></li><li><a href="#getopts" class="table-of-contents__link toc-highlight">GETOPTS</a></li><li><a href="#hardware" class="table-of-contents__link toc-highlight">HARDWARE</a><ul><li><a href="#ynh_get_ram" class="table-of-contents__link toc-highlight">ynh_get_ram</a></li><li><a href="#ynh_require_ram" class="table-of-contents__link toc-highlight">ynh_require_ram</a></li></ul></li><li><a href="#logging" class="table-of-contents__link toc-highlight">LOGGING</a><ul><li><a href="#ynh_die" class="table-of-contents__link toc-highlight">ynh_die</a></li><li><a href="#ynh_print_info" class="table-of-contents__link toc-highlight">ynh_print_info</a></li><li><a href="#ynh_print_warn" class="table-of-contents__link toc-highlight">ynh_print_warn</a></li><li><a href="#ynh_print_err" class="table-of-contents__link toc-highlight">ynh_print_err</a></li><li><a href="#ynh_exec_err" class="table-of-contents__link toc-highlight">ynh_exec_err</a></li><li><a href="#ynh_exec_warn" class="table-of-contents__link toc-highlight">ynh_exec_warn</a></li><li><a href="#ynh_exec_warn_less" class="table-of-contents__link toc-highlight">ynh_exec_warn_less</a></li><li><a href="#ynh_exec_quiet" class="table-of-contents__link toc-highlight">ynh_exec_quiet</a></li><li><a href="#ynh_exec_fully_quiet" class="table-of-contents__link toc-highlight">ynh_exec_fully_quiet</a></li><li><a href="#ynh_script_progression" class="table-of-contents__link toc-highlight">ynh_script_progression</a></li><li><a href="#ynh_return" class="table-of-contents__link toc-highlight">ynh_return</a></li></ul></li><li><a href="#logrotate" class="table-of-contents__link toc-highlight">LOGROTATE</a><ul><li><a href="#ynh_use_logrotate" class="table-of-contents__link toc-highlight">ynh_use_logrotate</a></li><li><a href="#ynh_remove_logrotate" class="table-of-contents__link toc-highlight">ynh_remove_logrotate</a></li></ul></li><li><a href="#multimedia" class="table-of-contents__link toc-highlight">MULTIMEDIA</a><ul><li><a href="#ynh_multimedia_build_main_dir" class="table-of-contents__link toc-highlight">ynh_multimedia_build_main_dir</a></li><li><a href="#ynh_multimedia_addfolder" class="table-of-contents__link toc-highlight">ynh_multimedia_addfolder</a></li><li><a href="#ynh_multimedia_addaccess" class="table-of-contents__link toc-highlight">ynh_multimedia_addaccess</a></li></ul></li><li><a href="#mysql" class="table-of-contents__link toc-highlight">MYSQL</a><ul><li><a href="#ynh_mysql_connect_as" class="table-of-contents__link toc-highlight">ynh_mysql_connect_as</a></li><li><a href="#ynh_mysql_execute_as_root" class="table-of-contents__link toc-highlight">ynh_mysql_execute_as_root</a></li><li><a href="#ynh_mysql_execute_file_as_root" class="table-of-contents__link toc-highlight">ynh_mysql_execute_file_as_root</a></li><li><a href="#ynh_mysql_dump_db" class="table-of-contents__link toc-highlight">ynh_mysql_dump_db</a></li><li><a href="#ynh_mysql_user_exists" class="table-of-contents__link toc-highlight">ynh_mysql_user_exists</a></li><li><a href="#ynh_mysql_setup_db" class="table-of-contents__link toc-highlight">ynh_mysql_setup_db</a></li><li><a href="#ynh_mysql_remove_db" class="table-of-contents__link toc-highlight">ynh_mysql_remove_db</a></li></ul></li><li><a href="#network" class="table-of-contents__link toc-highlight">NETWORK</a><ul><li><a href="#ynh_find_port" class="table-of-contents__link toc-highlight">ynh_find_port</a></li><li><a href="#ynh_port_available" class="table-of-contents__link toc-highlight">ynh_port_available</a></li><li><a href="#ynh_validate_ip4" class="table-of-contents__link toc-highlight">ynh_validate_ip4</a></li><li><a href="#ynh_validate_ip6" class="table-of-contents__link toc-highlight">ynh_validate_ip6</a></li></ul></li><li><a href="#nginx" class="table-of-contents__link toc-highlight">NGINX</a><ul><li><a href="#ynh_add_nginx_config" class="table-of-contents__link toc-highlight">ynh_add_nginx_config</a></li><li><a href="#ynh_remove_nginx_config" class="table-of-contents__link toc-highlight">ynh_remove_nginx_config</a></li><li><a href="#ynh_change_url_nginx_config" class="table-of-contents__link toc-highlight">ynh_change_url_nginx_config</a></li></ul></li><li><a href="#nodejs" class="table-of-contents__link toc-highlight">NODEJS</a><ul><li><a href="#ynh_use_nodejs" class="table-of-contents__link toc-highlight">ynh_use_nodejs</a></li><li><a href="#ynh_install_nodejs" class="table-of-contents__link toc-highlight">ynh_install_nodejs</a></li><li><a href="#ynh_remove_nodejs" class="table-of-contents__link toc-highlight">ynh_remove_nodejs</a></li></ul></li><li><a href="#permission" class="table-of-contents__link toc-highlight">PERMISSION</a><ul><li><a href="#ynh_permission_create" class="table-of-contents__link toc-highlight">ynh_permission_create</a></li><li><a href="#ynh_permission_delete" class="table-of-contents__link toc-highlight">ynh_permission_delete</a></li><li><a href="#ynh_permission_exists" class="table-of-contents__link toc-highlight">ynh_permission_exists</a></li><li><a href="#ynh_permission_url" class="table-of-contents__link toc-highlight">ynh_permission_url</a></li><li><a href="#ynh_permission_update" class="table-of-contents__link toc-highlight">ynh_permission_update</a></li><li><a href="#ynh_permission_has_user" class="table-of-contents__link toc-highlight">ynh_permission_has_user</a></li><li><a href="#ynh_legacy_permissions_exists" class="table-of-contents__link toc-highlight">ynh_legacy_permissions_exists</a></li><li><a href="#ynh_legacy_permissions_delete_all" class="table-of-contents__link toc-highlight">ynh_legacy_permissions_delete_all</a></li></ul></li><li><a href="#php" class="table-of-contents__link toc-highlight">PHP</a><ul><li><a href="#ynh_add_fpm_config" class="table-of-contents__link toc-highlight">ynh_add_fpm_config</a></li><li><a href="#ynh_remove_fpm_config" class="table-of-contents__link toc-highlight">ynh_remove_fpm_config</a></li><li><a href="#ynh_composer_exec" class="table-of-contents__link toc-highlight">ynh_composer_exec</a></li><li><a href="#ynh_install_composer" class="table-of-contents__link toc-highlight">ynh_install_composer</a></li></ul></li><li><a href="#postgresql" class="table-of-contents__link toc-highlight">POSTGRESQL</a><ul><li><a href="#ynh_psql_connect_as" class="table-of-contents__link toc-highlight">ynh_psql_connect_as</a></li><li><a href="#ynh_psql_execute_as_root" class="table-of-contents__link toc-highlight">ynh_psql_execute_as_root</a></li><li><a href="#ynh_psql_execute_file_as_root" class="table-of-contents__link toc-highlight">ynh_psql_execute_file_as_root</a></li><li><a href="#ynh_psql_dump_db" class="table-of-contents__link toc-highlight">ynh_psql_dump_db</a></li><li><a href="#ynh_psql_user_exists" class="table-of-contents__link toc-highlight">ynh_psql_user_exists</a></li><li><a href="#ynh_psql_database_exists" class="table-of-contents__link toc-highlight">ynh_psql_database_exists</a></li><li><a href="#ynh_psql_setup_db" class="table-of-contents__link toc-highlight">ynh_psql_setup_db</a></li><li><a href="#ynh_psql_remove_db" class="table-of-contents__link toc-highlight">ynh_psql_remove_db</a></li></ul></li><li><a href="#setting" class="table-of-contents__link toc-highlight">SETTING</a><ul><li><a href="#ynh_app_setting_get" class="table-of-contents__link toc-highlight">ynh_app_setting_get</a></li><li><a href="#ynh_app_setting_set" class="table-of-contents__link toc-highlight">ynh_app_setting_set</a></li><li><a href="#ynh_app_setting_delete" class="table-of-contents__link toc-highlight">ynh_app_setting_delete</a></li><li><a href="#ynh_webpath_available" class="table-of-contents__link toc-highlight">ynh_webpath_available</a></li><li><a href="#ynh_webpath_register" class="table-of-contents__link toc-highlight">ynh_webpath_register</a></li></ul></li><li><a href="#string" class="table-of-contents__link toc-highlight">STRING</a><ul><li><a href="#ynh_string_random" class="table-of-contents__link toc-highlight">ynh_string_random</a></li><li><a href="#ynh_replace_string" class="table-of-contents__link toc-highlight">ynh_replace_string</a></li><li><a href="#ynh_replace_special_string" class="table-of-contents__link toc-highlight">ynh_replace_special_string</a></li><li><a href="#ynh_sanitize_dbid" class="table-of-contents__link toc-highlight">ynh_sanitize_dbid</a></li></ul></li><li><a href="#systemd" class="table-of-contents__link toc-highlight">SYSTEMD</a><ul><li><a href="#ynh_add_systemd_config" class="table-of-contents__link toc-highlight">ynh_add_systemd_config</a></li><li><a href="#ynh_remove_systemd_config" class="table-of-contents__link toc-highlight">ynh_remove_systemd_config</a></li><li><a href="#ynh_systemd_action" class="table-of-contents__link toc-highlight">ynh_systemd_action</a></li></ul></li><li><a href="#user" class="table-of-contents__link toc-highlight">USER</a><ul><li><a href="#ynh_user_exists" class="table-of-contents__link toc-highlight">ynh_user_exists</a></li><li><a href="#ynh_user_get_info" class="table-of-contents__link toc-highlight">ynh_user_get_info</a></li><li><a href="#ynh_user_list" class="table-of-contents__link toc-highlight">ynh_user_list</a></li><li><a href="#ynh_system_user_exists" class="table-of-contents__link toc-highlight">ynh_system_user_exists</a></li><li><a href="#ynh_system_group_exists" class="table-of-contents__link toc-highlight">ynh_system_group_exists</a></li><li><a href="#ynh_system_user_create" class="table-of-contents__link toc-highlight">ynh_system_user_create</a></li><li><a href="#ynh_system_user_delete" class="table-of-contents__link toc-highlight">ynh_system_user_delete</a></li><li><a href="#ynh_exec_as" class="table-of-contents__link toc-highlight">ynh_exec_as</a></li></ul></li><li><a href="#utils" class="table-of-contents__link toc-highlight">UTILS</a><ul><li><a href="#ynh_abort_if_errors" class="table-of-contents__link toc-highlight">ynh_abort_if_errors</a></li><li><a href="#ynh_setup_source" class="table-of-contents__link toc-highlight">ynh_setup_source</a></li><li><a href="#new-sources-resources" class="table-of-contents__link toc-highlight">New &#39;sources&#39; resources</a></li><li><a href="#legacy-format-src" class="table-of-contents__link toc-highlight">Legacy format &#39;.src&#39;</a></li><li><a href="#ynh_local_curl" class="table-of-contents__link toc-highlight">ynh_local_curl</a></li><li><a href="#ynh_add_config" class="table-of-contents__link toc-highlight">ynh_add_config</a></li><li><a href="#ynh_read_var_in_file" class="table-of-contents__link toc-highlight">ynh_read_var_in_file</a></li><li><a href="#ynh_write_var_in_file" class="table-of-contents__link toc-highlight">ynh_write_var_in_file</a></li><li><a href="#ynh_get_debian_release" class="table-of-contents__link toc-highlight">ynh_get_debian_release</a></li><li><a href="#ynh_secure_remove" class="table-of-contents__link toc-highlight">ynh_secure_remove</a></li><li><a href="#ynh_read_manifest" class="table-of-contents__link toc-highlight">ynh_read_manifest</a></li><li><a href="#ynh_app_upstream_version" class="table-of-contents__link toc-highlight">ynh_app_upstream_version</a></li><li><a href="#ynh_app_package_version" class="table-of-contents__link toc-highlight">ynh_app_package_version</a></li><li><a href="#ynh_check_app_version_changed" class="table-of-contents__link toc-highlight">ynh_check_app_version_changed</a></li><li><a href="#ynh_compare_current_package_version" class="table-of-contents__link toc-highlight">ynh_compare_current_package_version</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/yunodocusaurus/de/docs/intro/">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/yunodocusaurus/de/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/yunodocusaurus/de/assets/js/runtime~main.336acd9e.js"></script>
<script src="/yunodocusaurus/de/assets/js/main.97974e4f.js"></script>
</body>
</html>