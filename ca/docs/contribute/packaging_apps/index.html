<!doctype html>
<html lang="ca" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-contribute/packaging_apps/packaging_apps" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Introduction to packaging | Yunohost</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://yunohost.org/yunodocusaurus/ca/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://yunohost.org/yunodocusaurus/ca/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://yunohost.org/yunodocusaurus/ca/docs/contribute/packaging_apps/"><meta data-rh="true" name="docusaurus_locale" content="ca"><meta data-rh="true" name="docsearch:language" content="ca"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Introduction to packaging | Yunohost"><meta data-rh="true" name="description" content="This documentation is here to provide all the basic concepts and vocabulary needed to understand app packaging."><meta data-rh="true" property="og:description" content="This documentation is here to provide all the basic concepts and vocabulary needed to understand app packaging."><link data-rh="true" rel="icon" href="/yunodocusaurus/ca/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://yunohost.org/yunodocusaurus/ca/docs/contribute/packaging_apps/"><link data-rh="true" rel="alternate" href="https://yunohost.org/yunodocusaurus/ar/docs/contribute/packaging_apps/" hreflang="ar"><link data-rh="true" rel="alternate" href="https://yunohost.org/yunodocusaurus/ca/docs/contribute/packaging_apps/" hreflang="ca"><link data-rh="true" rel="alternate" href="https://yunohost.org/yunodocusaurus/de/docs/contribute/packaging_apps/" hreflang="de"><link data-rh="true" rel="alternate" href="https://yunohost.org/yunodocusaurus/docs/contribute/packaging_apps/" hreflang="en"><link data-rh="true" rel="alternate" href="https://yunohost.org/yunodocusaurus/es/docs/contribute/packaging_apps/" hreflang="es"><link data-rh="true" rel="alternate" href="https://yunohost.org/yunodocusaurus/fr/docs/contribute/packaging_apps/" hreflang="fr"><link data-rh="true" rel="alternate" href="https://yunohost.org/yunodocusaurus/it/docs/contribute/packaging_apps/" hreflang="it"><link data-rh="true" rel="alternate" href="https://yunohost.org/yunodocusaurus/oc/docs/contribute/packaging_apps/" hreflang="oc"><link data-rh="true" rel="alternate" href="https://yunohost.org/yunodocusaurus/ru/docs/contribute/packaging_apps/" hreflang="ru"><link data-rh="true" rel="alternate" href="https://yunohost.org/yunodocusaurus/docs/contribute/packaging_apps/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/yunodocusaurus/ca/blog/rss.xml" title="Yunohost RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/yunodocusaurus/ca/blog/atom.xml" title="Yunohost Atom Feed"><link rel="stylesheet" href="/yunodocusaurus/ca/assets/css/styles.9d9ee2d6.css">
<link rel="preload" href="/yunodocusaurus/ca/assets/js/runtime~main.1f241368.js" as="script">
<link rel="preload" href="/yunodocusaurus/ca/assets/js/main.5601f640.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/yunodocusaurus/ca/"><div class="navbar__logo"><img src="/yunodocusaurus/ca/img/YunoHost_logo_vertical.png" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/yunodocusaurus/ca/img/YunoHost_logo_vertical.png" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Yunohost documentation</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/yunodocusaurus/ca/docs/">Tutorial</a><a class="navbar__item navbar__link" href="/yunodocusaurus/ca/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Català</a><ul class="dropdown__menu"><li><a href="/yunodocusaurus/ar/docs/contribute/packaging_apps/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ar">العربية</a></li><li><a href="/yunodocusaurus/ca/docs/contribute/packaging_apps/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="ca">Català</a></li><li><a href="/yunodocusaurus/de/docs/contribute/packaging_apps/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li><li><a href="/yunodocusaurus/docs/contribute/packaging_apps/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/yunodocusaurus/es/docs/contribute/packaging_apps/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/yunodocusaurus/fr/docs/contribute/packaging_apps/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/yunodocusaurus/it/docs/contribute/packaging_apps/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="it">Italiano</a></li><li><a href="/yunodocusaurus/oc/docs/contribute/packaging_apps/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="oc">Occitan</a></li><li><a href="/yunodocusaurus/ru/docs/contribute/packaging_apps/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ru">Русский</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/yunodocusaurus/ca/docs/">Welcome!</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/yunodocusaurus/ca/docs/overview/">Overview</a><button aria-label="Toggle the collapsible sidebar category &#x27;Overview&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/yunodocusaurus/ca/docs/administer/">Administration guide</a><button aria-label="Toggle the collapsible sidebar category &#x27;Administration guide&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/yunodocusaurus/ca/docs/user_guide/">User guide</a><button aria-label="Toggle the collapsible sidebar category &#x27;User guide&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/yunodocusaurus/ca/docs/applications/docs/app_20euros/">applications</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/yunodocusaurus/ca/docs/community/">Community</a><button aria-label="Toggle the collapsible sidebar category &#x27;Community&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/yunodocusaurus/ca/docs/contribute/write_documentation/">contribute</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/yunodocusaurus/ca/docs/contribute/write_documentation/">Write documentation</a><button aria-label="Toggle the collapsible sidebar category &#x27;Write documentation&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" tabindex="0" href="/yunodocusaurus/ca/docs/contribute/packaging_apps/">Introduction to packaging</a><button aria-label="Toggle the collapsible sidebar category &#x27;Introduction to packaging&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/yunodocusaurus/ca/docs/contribute/packaging_apps/manifest/">Writing the app manifest</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/yunodocusaurus/ca/docs/contribute/packaging_apps/scripts/">Writing app scripts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/yunodocusaurus/ca/docs/contribute/packaging_apps/doc/">Adding documentation to your app</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/yunodocusaurus/ca/docs/contribute/packaging_apps/testing/">Testing your app</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/yunodocusaurus/ca/docs/contribute/packaging_apps/publishing/">Publishing your app on the catalog</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/yunodocusaurus/ca/docs/contribute/packaging_apps/advanced/config_panels/">advanced</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/yunodocusaurus/ca/docs/contribute/packaging_apps/resources/packaging_apps_git/">resources</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/yunodocusaurus/ca/docs/contribute/dev/">Contributing to the YunoHost core</a><button aria-label="Toggle the collapsible sidebar category &#x27;Contributing to the YunoHost core&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/yunodocusaurus/ca/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">contribute</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Introduction to packaging</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Introduction to packaging</h1></header><p>This documentation is here to provide all the basic concepts and vocabulary needed to understand app packaging.</p><p>We will detail what a YunoHost application package is, how it works, how to make your own package and how to find help if you need it.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-packaging-philosophy">1. Packaging philosophy<a href="#1-packaging-philosophy" class="hash-link" aria-label="Direct link to 1. Packaging philosophy" title="Direct link to 1. Packaging philosophy">​</a></h2><p>The ability to easily install applications from a catalog is a key feature of YunoHost. While you dive in the process of YunoHost application packaging, you should remember these key principles:</p><ul><li><p><strong>The admin should not have a PhD in computer science to be able to install, configure and use your application</strong>: try to assume that the admin doesn&#x27;t know about advanced computer concepts;</p></li><li><p><strong>Less is more</strong>, <strong>Keep it simple!</strong>: don&#x27;t overcrowd the admin with a dozens technical questions;</p></li><li><p><strong>Things should work out of the box</strong>: for example, the admin should not have to manually finish the installation process by manually filling in database credentials;</p></li><li><p>YunoHost app packaging is <strong>not just about installing</strong> sources and dependencies: it&#x27;s also about maintenance (upgrade, backup...) and integrating the app in the YunoHost ecosystem (NGINX, SSO/LDAP, Fail2Ban, application catalog, UI/UX...)</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-prerequisites">2. Prerequisites<a href="#2-prerequisites" class="hash-link" aria-label="Direct link to 2. Prerequisites" title="Direct link to 2. Prerequisites">​</a></h2><p>Before diving in, this documentation assumes that:</p><ol><li>You already are a YunoHost admin yourself and already know what the install workflow looks like;)</li><li>You are somewhat familiar with (or are willing to learn) system administration and bash programming;</li><li>You are somewhat familiar with (or are willing to learn) Git;</li><li>You are comfortable with tinkering and debugging computer stuff in general.</li></ol><p>You are also encouraged to join the <a href="/yunodocusaurus/ca/chat_rooms/">app packaging chatroom</a> to ask any question you may have!</p><p>At some point, you will also want to have a dev/test environment, either using <a href="/yunodocusaurus/ca/packaging_apps_virtualbox/">VirtualBox</a> or <a href="https://github.com/yunohost/ynh-dev" target="_blank" rel="noopener noreferrer">LXC/ynh-dev</a> which is meant for the core but can totally be used for developping apps. You can also setup a dev/test VPS on your favourite hosting provider, or even develop on your prod if you like to live dangerously;).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-notes-about-the-history-of-yunohosts-app-packaging">3. Notes about the history of YunoHost&#x27;s app packaging<a href="#3-notes-about-the-history-of-yunohosts-app-packaging" class="hash-link" aria-label="Direct link to 3. Notes about the history of YunoHost&#x27;s app packaging" title="Direct link to 3. Notes about the history of YunoHost&#x27;s app packaging">​</a></h2><p>Many things in YunoHost, and YunoHost app packaging format, are historical or were designed in an organic fashion. Thus some aspects may legitimately feel old.</p><p>The <strong>&quot;v0&quot; of app packaging</strong> consisted in writing raw bash scripts with no real standardization/constrain.</p><p>Over time, recurrent steps (such as installing dependencies with apt, or setting up the NGINX config) where formalized into standardized bash functions, aka &quot;helpers&quot;. This pretty much marked <strong>the beginning of the &quot;v1&quot; packaging era</strong>.</p><p>Various tools were implemented to test the app and standardize their behavior.</p><p>After a while, a set of common practices and conventions emerged and is somewhat reflected and maintain in the <code>example_ynh</code> template application. While it is tempting for dev-oriented folks to change variable naming schemes or refactorize the structure of scripts, it turns out that it is even more important to stick to the common set of practices (even though arbitrary and not elegant) to ease the maintenance of all apps by any member of the packaging community accross all repos!</p><p>Nevertheless, even though helpers existed, the inherent structure of apps was hard and boring to maintain with too many redundant pieces of code or filled with funky historical conventions. <strong>A new v2 format</strong> <a href="https://github.com/YunoHost/yunohost/pull/1289" target="_blank" rel="noopener noreferrer">has been designed and added to YunoHost 11.1 in early 2023</a> in the hope to modernize and simplify app packaging and improve the UI/UX of YunoHost.</p><p>However, <a href="https://github.com/YunoHost/issues/issues/2136" target="_blank" rel="noopener noreferrer"><strong>a future v3 format</strong> has yet to come</a> to further simplify app packaging (such as taking care of NGINX/systemd/... configurations, removing the need to manually write remove/backup/restore scripts, etc.)</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-general-overview-of-a-yunohost-app-structure">4. General overview of a YunoHost app structure<a href="#4-general-overview-of-a-yunohost-app-structure" class="hash-link" aria-label="Direct link to 4. General overview of a YunoHost app structure" title="Direct link to 4. General overview of a YunoHost app structure">​</a></h2><p>A YunoHost app consists in a Git repository. We encourage you to have a look at those code repository to get familiar witch app repository structures:</p><ul><li><a href="https://github.com/YunoHost-Apps/helloworld_ynh" target="_blank" rel="noopener noreferrer">the <code>helloworld_ynh</code> app</a></li><li><a href="https://github.com/YunoHost/example_ynh" target="_blank" rel="noopener noreferrer">the <code>example_ynh</code> app</a> which illustrates all common features and recommended formatting</li><li>your favourite &quot;real-life&quot; app in the <a href="https://github.com/orgs/YunoHost-Apps/repositories" target="_blank" rel="noopener noreferrer">YunoHost-Apps organization</a></li></ul><p>Among the file contained in a package, the most important ones are: </p><ul><li>the <strong>app manifest</strong> <code>manifest.toml</code> <small>(or <code>.json</code> in the past)</small><ul><li>this can be seen as the ID card of the application, containing various metadatas. </li><li>it also contains the questions asked during the installation of the app.</li><li>and a bunch of &quot;resources&quot; to initialize, such as sources to download or apt dependencies to install</li></ul></li><li><strong>scripts/</strong> contains a bunch of bash scripts corresponding to actions exposed in YunoHost<ul><li><code>_common.sh</code>: common variables or custom functions included in other scripts</li><li><code>install</code>/<code>remove</code>: the install and remove procedure</li><li><code>upgrade</code>: the upgrade procedure</li><li><code>backup</code>/<code>restore</code>: the backup/restore procedures </li><li>(<code>change_url</code>): changing where the app is installed in terms of web access url</li></ul></li><li><strong>conf/</strong> contains a bunch of configuration templates used when installing the app. Here are some example of commonly found files:<ul><li><code>nginx.conf</code>: the NGINX (=web server) configuration template for this app</li><li><code>systemd.service</code>: the systemd service configuration template for this app</li><li><code>config.json/yaml/???</code>: the app&#x27;s configuration template</li></ul></li></ul><p>Roughly speaking, the install itself generally consists of the following operations (though these may vary depending on the complexity and technologies used by the app) - not necessarily in that exact order:</p><ol><li>YunoHost fetches the package&#x27;s Git repository</li><li>YunoHost asks to the admin the install questions defined in <code>manifest.toml</code></li><li>The admin fills the form and starts the install</li><li>YunoHost provisions a bunch of technical prerequisites (called &#x27;resources&#x27;) such as:<ul><li>initializes the app&#x27;skey/value store <code>settings.yml</code> with the admin&#x27;s answers to the install form</li><li>creates a UNIX system user for this app</li><li>install apt dependencies needed for this app</li><li>picks up a port for internal reverse-proxying</li><li>initializes an empty SQL database</li><li>configures SSOwat permissions</li><li>...</li></ul></li><li>The actual app&#x27;s <code>install</code> script is ran and typically does:<ul><li>fetch and deploy the app sources</li><li>configure the app (typically DB credentials, internal reverse-proxy port...)</li><li>add the NGINX configuration</li><li>add the systemd configuration the app&#x27;s daemon</li><li>starts the app daemon</li><li>various finialization tweaks</li></ul></li><li>???</li><li>Application is ready to use!</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-creating-your-very-first-yunohost-package">5. Creating your very first YunoHost package<a href="#5-creating-your-very-first-yunohost-package" class="hash-link" aria-label="Direct link to 5. Creating your very first YunoHost package" title="Direct link to 5. Creating your very first YunoHost package">​</a></h2><p>Unless you really want to start from scratch or from <a href="https://github.com/YunoHost/example_ynh" target="_blank" rel="noopener noreferrer"><code>example_ynh</code></a>, one common practice is to identify an app similar to the one you&#x27;re trying to package - typically because it relies on the same technologies - clone the corresponding code repository, and adapt the various files. </p><p>TODO/FIXME : here we should list a bunch of well-knowh apps for classic technologies</p><ul><li>PHP apps:</li><li>NodeJS apps:</li><li>Python apps:</li><li>???</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/06.contribute/10.packaging_apps/10.packaging_apps.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/yunodocusaurus/ca/docs/contribute/write_documentation/doc_use_git/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Propel a contribution with GitHub</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/yunodocusaurus/ca/docs/contribute/packaging_apps/manifest/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Writing the app manifest</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-packaging-philosophy" class="table-of-contents__link toc-highlight">1. Packaging philosophy</a></li><li><a href="#2-prerequisites" class="table-of-contents__link toc-highlight">2. Prerequisites</a></li><li><a href="#3-notes-about-the-history-of-yunohosts-app-packaging" class="table-of-contents__link toc-highlight">3. Notes about the history of YunoHost&#39;s app packaging</a></li><li><a href="#4-general-overview-of-a-yunohost-app-structure" class="table-of-contents__link toc-highlight">4. General overview of a YunoHost app structure</a></li><li><a href="#5-creating-your-very-first-yunohost-package" class="table-of-contents__link toc-highlight">5. Creating your very first YunoHost package</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/yunodocusaurus/ca/docs/intro/">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/yunodocusaurus/ca/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/yunodocusaurus/ca/assets/js/runtime~main.1f241368.js"></script>
<script src="/yunodocusaurus/ca/assets/js/main.5601f640.js"></script>
</body>
</html>