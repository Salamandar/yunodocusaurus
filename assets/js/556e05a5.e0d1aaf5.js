"use strict";(self.webpackChunkyunohost_docs=self.webpackChunkyunohost_docs||[]).push([[1341],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>d});var o=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var i=o.createContext({}),u=function(e){var t=o.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=u(e.components);return o.createElement(i.Provider,{value:t},e.children)},h="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},p=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,i=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),h=u(n),p=a,d=h["".concat(i,".").concat(p)]||h[p]||m[p]||r;return n?o.createElement(d,s(s({ref:t},c),{},{components:n})):o.createElement(d,s({ref:t},c))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,s=new Array(r);s[0]=p;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l[h]="string"==typeof e?e:a,s[1]=l;for(var u=2;u<r;u++)s[u]=n[u];return o.createElement.apply(null,s)}return o.createElement.apply(null,n)}p.displayName="MDXCreateElement"},85839:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>s,default:()=>m,frontMatter:()=>r,metadata:()=>l,toc:()=>u});var o=n(87462),a=(n(67294),n(3905));const r={title:"Customize the appearance of the user portal",sidebar_label:"Theming",template:"docs",taxonomy:{category:"docs"},routes:{default:"/theming"}},s=void 0,l={unversionedId:"administer/extend/theming",id:"administer/extend/theming",title:"Customize the appearance of the user portal",description:"Globally disable the overlay",source:"@site/docs/02.administer/60.extend/15.theming.md",sourceDirName:"02.administer/60.extend",slug:"/administer/extend/theming",permalink:"/yunodocusaurus/docs/administer/extend/theming",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/02.administer/60.extend/15.theming.md",tags:[],version:"current",sidebarPosition:15,frontMatter:{title:"Customize the appearance of the user portal",sidebar_label:"Theming",template:"docs",taxonomy:{category:"docs"},routes:{default:"/theming"}},sidebar:"docsSidebar",previous:{title:"Configuration management",permalink:"/yunodocusaurus/docs/administer/extend/configuration_management"},next:{title:"App helpers",permalink:"/yunodocusaurus/docs/administer/extend/helpers"}},i={},u=[{value:"Globally disable the overlay",id:"globally-disable-the-overlay",level:2},{value:"Using a theme",id:"using-a-theme",level:2},{value:"Adding someone else&#39;s theme",id:"adding-someone-elses-theme",level:2},{value:"Creating your own theme",id:"creating-your-own-theme",level:2},{value:"Example : customizing the logo",id:"example--customizing-the-logo",level:3}],c={toc:u},h="wrapper";function m(e){let{components:t,...n}=e;return(0,a.kt)(h,(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"globally-disable-the-overlay"},"Globally disable the overlay"),(0,a.kt)("p",null,"You can disable the overlay by changing the dedicated settings:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"yunohost settings set ssowat.panel_overlay.enabled -v 0\n")),(0,a.kt)("h2",{id:"using-a-theme"},"Using a theme"),(0,a.kt)("p",null,"You can change the theme of the user portal in the admin panel, under Tools > YunoHost settings > Other > User portal."),(0,a.kt)("p",null,"You can list the available themes with:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"ls /usr/share/ssowat/portal/assets/themes/\n")),(0,a.kt)("p",null,"Then you can use ",(0,a.kt)("inlineCode",{parentName:"p"},"nano /etc/ssowat/conf.json.persistent")," to enable the theme you choose like this:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "theme": "light",\n    ...other lines...\n}\n')),(0,a.kt)("p",null,"!!! You might need to force the refresh of your browser's cache for the theme to fully propagate. You can do so with Ctrl+Shift+R on Firefox."),(0,a.kt)("h2",{id:"adding-someone-elses-theme"},"Adding someone else's theme"),(0,a.kt)("p",null,"You may add themes created by other people by downloading and extracting the corresponding files in a new folder ",(0,a.kt)("inlineCode",{parentName:"p"},"the_theme_name")," in ",(0,a.kt)("inlineCode",{parentName:"p"},"/usr/share/ssowat/portal/assets/themes/"),"."),(0,a.kt)("p",null,"! ",(0,a.kt)("strong",{parentName:"p"},"Beware")," that adding third-party themes from random strangers on the internet ",(0,a.kt)("strong",{parentName:"p"},"is a security risk"),". It is equivalent to running someone's else code on your machine, which can be used for malicious purpose such as stealing credentials!"),(0,a.kt)("p",null,"There are a handful of themes listed ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/yunohost-themes"},"on Github"),"."),(0,a.kt)("h2",{id:"creating-your-own-theme"},"Creating your own theme"),(0,a.kt)("p",null,"You can create your own theme by copying the existing theme of your choice. For instance starting from the light theme:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"cp -r /usr/share/ssowat/portal/assets/themes/{light,your_own_theme}\n")),(0,a.kt)("p",null,"Then, edit the files the CSS and JS files in ",(0,a.kt)("inlineCode",{parentName:"p"},"/usr/share/ssowat/portal/assets/themes/your_own_theme")," according to what you want to do:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"custom_portal.css")," can be used to add custom CSS rules to the user portal;"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"custom_overlay.css")," can be used to customize the small YunoHost button overlay, displayed on apps page which includes it;"),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"custom_portal.js")," can be used to add custom JS code to be ran both on the user portal or when injecting the small YunoHost button / overlay.")),(0,a.kt)("p",null,"You can also add your own images and assets which can then be used by the CSS and JS files."),(0,a.kt)("p",null,"!!! Share your custom theme with the community! ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/yunohost-themes"},"https://github.com/yunohost-themes")),(0,a.kt)("h3",{id:"example--customizing-the-logo"},"Example : customizing the logo"),(0,a.kt)("p",null,'You may create your own theme simply to change the "branding" of the YunoHost user portal and replace the YunoHost logo with you own!'),(0,a.kt)("p",null,"To do so, upload your logo to ",(0,a.kt)("inlineCode",{parentName:"p"},"/usr/share/ssowat/portal/assets/themes/your_own_theme/"),", and use the following CSS rules:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-css"},'/* Inside custom_portal.css */\n#ynh-logo {\n  background-image: url("./your_logo.png");\n}\n\n/* Inside custom_overlay.css */\n#ynh-overlay-switch {\n  background-image: url("./your_logo.png");\n}\n')))}m.isMDXComponent=!0}}]);